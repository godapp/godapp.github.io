(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-145f2cad"],{"0769":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("d4ec"),a=n("bee2"),i=n("f370"),u=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"initialize",value:function(){0===new Date("1970-01-01T00:00:00").getTime()?this.ISO_SUFFIX="":0===new Date("1970-01-01T00:00:00-0000").getTime()&&(this.ISO_SUFFIX="-0000")}},{key:"toISOTimestamp",value:function(e){return new Date(e+this.ISO_SUFFIX).getTime()/1e3}}]),e}();u.ISO_SUFFIX="",u.initialize();var c=function(){function e(t){Object(r["a"])(this,e),this.str=t,Object(i["d"])(t)?this.value=0:this.value=u.toISOTimestamp(t)}return Object(a["a"])(e,[{key:"toString",value:function(){return this.str}}]),e}()},"394e":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return b});n("55dd");var r,a,i=n("d4ec"),u=n("bee2"),c=n("99de"),s=n("7e84"),o=n("262e"),l=n("39c6"),h=n("56b9"),f=n("6b4c");(function(e){e[e["Unknown"]=0]="Unknown",e[e["RedWin"]=1]="RedWin",e[e["BlackWin"]=2]="BlackWin",e[e["LuckyStrike"]=4]="LuckyStrike"})(r||(r={})),function(e){e[e["Unknown"]=0]="Unknown",e[e["SmallPair"]=1]="SmallPair",e[e["Pair"]=2]="Pair",e[e["Straight"]=3]="Straight",e[e["Flush"]=4]="Flush",e[e["StraightFlush"]=5]="StraightFlush",e[e["ThreeOfAKind"]=6]="ThreeOfAKind"}(a||(a={}));var d=function(e){function t(e){var n;return Object(i["a"])(this,t),n=Object(c["a"])(this,Object(s["a"])(t).call(this,e)),n.status===f["b"].StandBy?(n.redCards=e.red_cards.map(function(e){return new h["a"](e,!0)}),n.blackCards=e.black_cards.map(function(e){return new h["a"](e,!0)})):(n.redCards=[],n.blackCards=[]),3===n.redCards.length&&3===n.blackCards.length?(n.redCards.sort(function(e,t){return e.value-t.value}),n.blackCards.sort(function(e,t){return e.value-t.value}),n.redHandType=n.getHandType(n.redCards),n.blackHandType=n.getHandType(n.blackCards),n.result=n.getGameResult(),n.isLuckyStrike=Math.max(n.redHandType,n.blackHandType)>=a.Pair):(n.result=r.Unknown,n.redHandType=a.Unknown,n.blackHandType=a.Unknown,n.isLuckyStrike=!1),n}return Object(o["a"])(t,e),Object(u["a"])(t,[{key:"compareForResult",value:function(e,t){return e>t?r.RedWin:t>e?r.BlackWin:r.Unknown}},{key:"getGameResult",value:function(){var e=this.compareForResult(this.redHandType,this.blackHandType);if(e===r.Unknown)switch(this.redHandType){case a.Straight:case a.StraightFlush:case a.ThreeOfAKind:e=this.compareForResult(this.redCards[1].value,this.blackCards[1].value);break;case a.SmallPair:case a.Pair:e=this.compareForResult(this.redCards[1].value,this.blackCards[1].value),e===r.Unknown&&(e=this.compareForResult(this.redCards[0].value===this.redCards[1].value?this.redCards[2].value:this.redCards[0].value,this.blackCards[0].value===this.blackCards[1].value?this.blackCards[2].value:this.blackCards[0].value));break;default:for(var t=2;t>=0;t--)if(e=this.compareForResult(this.redCards[t].value,this.blackCards[t].value),e!==r.Unknown)break}return e}},{key:"getHandType",value:function(e){for(var t=e[0].suit===e[1].suit&&e[1].suit===e[2].suit,n=!0,r=!0,i=!1,u=e[0].value,c=1;c<3;c++){var s=e[c].value;s===u?i=!0:r=!1,s-u===1||14===s&&3===u||(n=!1),u=s}return n&&2===e[0].value&&e[2].isAce()&&e.unshift(e.pop()),r?a.ThreeOfAKind:n?t?a.StraightFlush:a.Straight:t?a.Flush:i?e[1].value<9?a.SmallPair:a.Pair:a.Unknown}}]),t}(f["a"]),b=function(e){function t(e,n){return Object(i["a"])(this,t),Object(c["a"])(this,Object(s["a"])(t).call(this,e,"activegame","symbol",n))}return Object(o["a"])(t,e),Object(u["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new d(e)})}}]),t}(l["a"])},4125:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d});var r,a=n("bee2"),i=n("d4ec"),u=n("99de"),c=n("7e84"),s=n("262e"),o=n("39c6"),l=n("6b4c"),h=n("f370");(function(e){e[e["Unknown"]=0]="Unknown",e[e["Bet0"]=1]="Bet0",e[e["Bet1"]=2]="Bet1",e[e["Bet2"]=3]="Bet2",e[e["Bet3"]=4]="Bet3",e[e["Bet4"]=5]="Bet4",e[e["Bet5"]=6]="Bet5",e[e["Bet6"]=7]="Bet6",e[e["Bet7"]=8]="Bet7",e[e["Bet8"]=9]="Bet8",e[e["Bet9"]=10]="Bet9",e[e["Bet10"]=11]="Bet10",e[e["Bet11"]=12]="Bet11",e[e["Bet12"]=13]="Bet12",e[e["Bet13"]=14]="Bet13",e[e["Bet14"]=15]="Bet14",e[e["Bet15"]=16]="Bet15",e[e["Bet16"]=17]="Bet16",e[e["Bet17"]=18]="Bet17",e[e["Bet18"]=19]="Bet18",e[e["Bet19"]=20]="Bet19",e[e["Bet20"]=21]="Bet20",e[e["Bet21"]=22]="Bet21",e[e["Bet22"]=23]="Bet22",e[e["Bet23"]=24]="Bet23",e[e["Bet24"]=25]="Bet24",e[e["Bet25"]=26]="Bet25",e[e["Bet26"]=27]="Bet26",e[e["Bet27"]=28]="Bet27",e[e["Bet28"]=29]="Bet28",e[e["Bet29"]=30]="Bet29",e[e["Bet30"]=31]="Bet30",e[e["Bet31"]=32]="Bet31",e[e["Bet32"]=33]="Bet32",e[e["Bet33"]=34]="Bet33",e[e["Bet34"]=35]="Bet34",e[e["Bet35"]=36]="Bet35",e[e["Bet36"]=37]="Bet36",e[e["BetEven"]=38]="BetEven",e[e["BetOdd"]=39]="BetOdd",e[e["BetLarge"]=40]="BetLarge",e[e["BetSmall"]=41]="BetSmall",e[e["BetFront"]=42]="BetFront",e[e["BetMid"]=43]="BetMid",e[e["BetEnd"]=44]="BetEnd",e[e["BetLineOne"]=45]="BetLineOne",e[e["BetLineTwo"]=46]="BetLineTwo",e[e["BetLineThree"]=47]="BetLineThree",e[e["BetRed"]=48]="BetRed",e[e["BetBlack"]=49]="BetBlack"})(r||(r={}));var f=function(e){function t(e){var n;return Object(i["a"])(this,t),n=Object(u["a"])(this,Object(c["a"])(t).call(this,e)),n.result=Object(h["e"])(e)?e.result:0,n}return Object(s["a"])(t,e),t}(l["a"]),d=function(e){function t(e,n){return Object(i["a"])(this,t),Object(u["a"])(this,Object(c["a"])(t).call(this,e,"activegame","symbol",n))}return Object(s["a"])(t,e),Object(a["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new f(e)})}}]),t}(o["a"])},"424a":function(e,t,n){},"448c":function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("99de"),u=n("7e84"),c=n("262e"),s=n("6a63"),o=n("4125"),l=(n("7f7f"),n("292a")),h=n("015e"),f=n("5896"),d=function(e){function t(e,n){var a;return Object(r["a"])(this,t),a=Object(i["a"])(this,Object(u["a"])(t).call(this,t.contract(e.eos.network.type),e,t.ID,n)),a.gameTable=new o["c"](a.eos,a.name),a.resultTable=new f["a"](a.eos,a.name),a}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"contract",value:function(e){switch(e){case l["b"].KYLIN:return"godapproulet";default:return"roulette.e"}}}]),t}(h["a"]);d.ID=5,n.d(t,"a",function(){return b});var b=function(e){function t(e){var n;return Object(r["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.game=new o["b"](void 0),n.betType=o["a"].Unknown,n.contract=new d(n.house,n.betToString),n}return Object(c["a"])(t,e),Object(a["a"])(t,[{key:"betToString",value:function(e){switch(e){case o["a"].BetEven:return"Even";case o["a"].BetOdd:return"Odd";case o["a"].BetLarge:return"Large";case o["a"].BetSmall:return"Small";case o["a"].BetFront:return"1st 12";case o["a"].BetMid:return"2nd 12";case o["a"].BetEnd:return"3rd 12";case o["a"].BetLineOne:return"Line 1";case o["a"].BetLineTwo:return"Line 2";case o["a"].BetLineThree:return"Line 3";default:return""+e}}},{key:"getResultString",value:function(){return"Result: "+this.game.result}}]),t}(s["a"]);b.MAX_BET_NUM=50},"48ed":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d});n("ac4d"),n("8a81"),n("ac6a");var r,a=n("d4ec"),i=n("99de"),u=n("7e84"),c=n("bee2"),s=n("262e"),o=n("39c6"),l=n("56b9"),h=n("6b4c");(function(e){e[e["Unknown"]=0]="Unknown",e[e["BankerWin"]=1]="BankerWin",e[e["PlayerWin"]=2]="PlayerWin",e[e["Tie"]=3]="Tie",e[e["Dragon7"]=4]="Dragon7",e[e["Panda8"]=5]="Panda8"})(r||(r={}));var f=function(e){function t(e){var n;return Object(a["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.status===h["b"].StandBy?(n.playerCards=e.player_cards.map(function(e){return new l["a"](e)}),n.bankerCards=e.banker_cards.map(function(e){return new l["a"](e)}),n.playerPoints=t.calculatePoint(n.playerCards),n.bankerPoints=t.calculatePoint(n.bankerCards),n.playerPoints>n.bankerPoints?8===n.playerPoints&&3===n.playerCards.length?n.result=r.Panda8:n.result=r.PlayerWin:n.bankerPoints>n.playerPoints?7===n.bankerPoints&&3===n.bankerCards.length?n.result=r.Dragon7:n.result=r.BankerWin:n.result=r.Tie):(n.playerPoints=0,n.bankerPoints=0,n.playerCards=[],n.bankerCards=[],n.result=r.Unknown),n}return Object(s["a"])(t,e),Object(c["a"])(t,null,[{key:"calculatePoint",value:function(e){var t=0,n=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;c.value<10&&(t+=c.value)}}catch(s){r=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return t%10}}]),t}(h["a"]),d=function(e){function t(e,n){return Object(a["a"])(this,t),Object(i["a"])(this,Object(u["a"])(t).call(this,e,"activegame","symbol",n))}return Object(s["a"])(t,e),Object(c["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new f(e)})}}]),t}(o["a"])},"56b9":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a=n("d4ec"),i=n("bee2");(function(e){e[e["Spade"]=0]="Spade",e[e["Heart"]=1]="Heart",e[e["Diamond"]=2]="Diamond",e[e["Club"]=3]="Club"})(r||(r={}));var u=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"toSymbol",value:function(e){switch(e){case r.Spade:return"♠";case r.Heart:return"♥";case r.Diamond:return"♦";case r.Club:return"♣";default:throw new Error("Invalid suit")}}},{key:"toSymbolString",value:function(e){switch(e){case r.Spade:return"s";case r.Heart:return"h";case r.Diamond:return"d";case r.Club:return"c";default:throw new Error("Invalid suit")}}}]),e}(),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(a["a"])(this,e),this.raw=Math.floor(t),this.value=e.getValue(this.raw,n),this.suit=e.getSuit(this.raw)}return Object(i["a"])(e,[{key:"isAce",value:function(){return 1===this.value||14===this.value}},{key:"isFace",value:function(){return this.value>10&&this.value<=13}},{key:"getSuitSymbol",value:function(){return u.toSymbol(this.suit)}},{key:"getSuitSymbolString",value:function(){return u.toSymbolString(this.suit)}},{key:"getValueString",value:function(){return e.valueToString(this.value)}},{key:"toString",value:function(){return this.getSuitSymbol()+this.getValueString()}}],[{key:"getSuit",value:function(e){return Math.floor(e/13)%4}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e)%13+1;return t&&1===n?14:n}},{key:"valueToString",value:function(e){return this.CARD_VALUES[(e-1)%13]}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Spade,a=!1;t>13&&(a=!0,t=1);var i=13*n+t-1;return new e(i,a)}}]),e}();c.CARD_VALUES=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],c.CARDS_PER_DECK=52,c.CARDS_PER_SUIT=13,c.NUMBER_OF_SUITS=4},"5df2":function(e,t,n){var r=n("5ca1"),a=n("d752");r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},"62e8":function(e,t,n){"use strict";n("96cf");var r=n("1da1"),a=n("d4ec"),i=n("bee2"),u=n("99de"),c=n("7e84"),s=n("262e"),o=(n("cadf"),n("551c"),n("097d"),n("292a")),l=n("4670"),h=function(e){function t(e){return Object(a["a"])(this,t),Object(u["a"])(this,Object(c["a"])(t).call(this,e.eos.network===o["a"].KYLIN?"dapp365":"dapp365.e",e,0))}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"play",value:function(e,t){return this.transfer(e,t+",")}}]),t}(l["b"]),f=n("f370"),d=n("3797");n.d(t,"a",function(){return b});var b=function(e){function t(e){var n;return Object(a["a"])(this,t),n=Object(u["a"])(this,Object(c["a"])(t).call(this,e)),n.referer="",n.contract=new h(n.house),n}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"initialize",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.referer=Object(f["e"])(t)?t:"";case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){}},{key:"betText",value:function(){return""}},{key:"canMakeBet",value:function(){return!1}},{key:"makeBet",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Can not bet");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(d["a"])},"80c7":function(e,t,n){"use strict";var r=n("424a"),a=n.n(r);a.a},"90f4":function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("99de"),u=n("7e84"),c=n("262e"),s=(n("cadf"),n("551c"),n("097d"),n("394e")),o=n("6a63"),l=(n("7f7f"),n("292a")),h=n("015e"),f=n("5896"),d=function(e){function t(e,n){var a;return Object(r["a"])(this,t),a=Object(i["a"])(this,Object(u["a"])(t).call(this,t.contract(e.eos.network.type),e,t.ID,n)),a.gameTable=new s["c"](a.eos,a.name),a.resultTable=new f["a"](a.eos,a.name,!0),a}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"contract",value:function(e){switch(e){case l["b"].LOCALHOST:return"redblack";case l["b"].KYLIN:return"godappredbla";default:return"warofstar.e"}}}]),t}(h["a"]);d.ID=4,n.d(t,"a",function(){return b});var b=function(e){function t(e){var n;return Object(r["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.game=new s["b"](void 0),n.betType=s["a"].Unknown,n.contract=new d(n.house,n.betToString),n}return Object(c["a"])(t,e),Object(a["a"])(t,[{key:"betToString",value:function(e){switch(e){case s["a"].RedWin:return"Red Win";case s["a"].BlackWin:return"Black Win";case s["a"].LuckyStrike:return"Lucky Strike";default:return"---"}}},{key:"handToString",value:function(e){switch(e){case s["d"].SmallPair:case s["d"].Pair:return"Pair";case s["d"].Straight:return"Straight";case s["d"].Flush:return"Flush";case s["d"].StraightFlush:return"Straight Flush";case s["d"].ThreeOfAKind:return"Three-of-a-Kind";default:return"---"}}},{key:"isRedWin",value:function(){return this.game.result===s["a"].RedWin}},{key:"isBlueWin",value:function(){return this.game.result===s["a"].BlackWin}},{key:"isLuckyStrike",value:function(){return this.game.isLuckyStrike}},{key:"getResultString",value:function(){return this.betToString(this.game.result)}},{key:"getRedHandTypeString",value:function(){return this.handToString(this.game.redHandType)}},{key:"getBlackHandTypeString",value:function(){return this.handToString(this.game.blackHandType)}}]),t}(o["a"]);b.MAX_BET_NUM=50},9124:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return b});n("ac4d"),n("8a81"),n("ac6a");var r,a=n("d4ec"),i=n("99de"),u=n("7e84"),c=n("bee2"),s=n("262e"),o=n("39c6"),l=n("56b9"),h=n("6b4c"),f=n("f370");(function(e){e[e["Unknown"]=0]="Unknown",e[e["BankerWin"]=1]="BankerWin",e[e["PlayerWin"]=2]="PlayerWin",e[e["Tie"]=4]="Tie",e[e["BankerPair"]=8]="BankerPair",e[e["PlayerPair"]=16]="PlayerPair"})(r||(r={}));var d=function(e){function t(e){var n;return Object(a["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.status===h["b"].StandBy?(n.playerCards=e.player_cards.map(function(e){return new l["a"](e)}),n.bankerCards=e.banker_cards.map(function(e){return new l["a"](e)}),n.playerPoints=t.calculatePoint(n.playerCards),n.bankerPoints=t.calculatePoint(n.bankerCards),n.playerPoints>n.bankerPoints?n.result=r.PlayerWin:n.bankerPoints>n.playerPoints?n.result=r.BankerWin:n.result=r.Tie,n.bankerPair=n.isPair(n.bankerCards),n.playerPair=n.isPair(n.playerCards)):(n.playerPoints=0,n.bankerPoints=0,n.playerCards=[],n.bankerCards=[],n.bankerPair=!1,n.playerPair=!1,n.result=r.Unknown),n}return Object(s["a"])(t,e),Object(c["a"])(t,null,[{key:"calculatePoint",value:function(e){var t=0,n=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;c.value<10&&(t+=c.value)}}catch(s){r=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return t%10}}]),Object(c["a"])(t,[{key:"isPair",value:function(e){return!Object(f["c"])(e)&&e[0].value===e[1].value}}]),t}(h["a"]),b=function(e){function t(e,n){return Object(a["a"])(this,t),Object(i["a"])(this,Object(u["a"])(t).call(this,e,"activegame","symbol",n))}return Object(s["a"])(t,e),Object(c["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new d(e)})}}]),t}(o["a"])},a25e:function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("99de"),u=n("7e84"),c=n("262e"),s=n("48ed"),o=(n("7f7f"),n("292a")),l=n("015e"),h=n("5896"),f=function(e){function t(e,n){var a;return Object(r["a"])(this,t),a=Object(i["a"])(this,Object(u["a"])(t).call(this,t.contract(e.eos.network.type),e,t.ID,n)),a.gameTable=new s["c"](a.eos,a.name),a.resultTable=new h["a"](a.eos,a.name),a}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"contract",value:function(e){switch(e){case o["b"].LOCALHOST:return"baccarat";case o["b"].KYLIN:return"godappbaccar";default:return"baccarat.e"}}}]),t}(l["a"]);f.ID=3;var d=n("6a63");n.d(t,"a",function(){return b});var b=function(e){function t(e){var n;return Object(r["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.game=new s["b"](void 0),n.betType=s["a"].Unknown,n.contract=new f(n.house,n.betToString),n}return Object(c["a"])(t,e),Object(a["a"])(t,[{key:"getResultString",value:function(){return this.betToString(this.game.result)}},{key:"betToString",value:function(e){switch(e){case s["a"].BankerWin:return"Banker Win";case s["a"].PlayerWin:return"Player Win";case s["a"].Tie:return"Tie";case s["a"].Panda8:return"Panda 8";case s["a"].Dragon7:return"Dragon 7";default:return""}}}]),t}(d["a"])},aa77:function(e,t,n){var r=n("5ca1"),a=n("be13"),i=n("79e5"),u=n("fdef"),c="["+u+"]",s="​",o=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),h=function(e,t,n){var a={},c=i(function(){return!!u[e]()||s[e]()!=s}),o=a[e]=c?t(f):u[e];n&&(a[n]=o),r(r.P+r.F*c,"String",a)},f=h.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(l,"")),e};e.exports=h},c5f6:function(e,t,n){"use strict";var r=n("7726"),a=n("69a8"),i=n("2d95"),u=n("5dbc"),c=n("6a99"),s=n("79e5"),o=n("9093").f,l=n("11e9").f,h=n("86cc").f,f=n("aa77").trim,d="Number",b=r[d],v=b,m=b.prototype,y=i(n("2aeb")(m))==d,p="trim"in String.prototype,k=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=p?t.trim():f(t,3);var n,r,a,i=t.charCodeAt(0);if(43===i||45===i){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var u,s=t.slice(2),o=0,l=s.length;o<l;o++)if(u=s.charCodeAt(o),u<48||u>a)return NaN;return parseInt(s,r)}}return+t};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof b&&(y?s(function(){m.valueOf.call(n)}):i(n)!=d)?u(new v(k(t)),n,b):k(t)};for(var g,O=n("9e1e")?o(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;O.length>w;w++)a(v,g=O[w])&&!a(b,g)&&h(b,g,l(v,g));b.prototype=m,m.constructor=b,n("2aba")(r,d,b)}},d14a:function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("99de"),u=n("7e84"),c=n("262e"),s=n("9124"),o=(n("7f7f"),n("cadf"),n("551c"),n("097d"),n("292a")),l=n("015e"),h=n("5896"),f=function(e){function t(e,n){var a;return Object(r["a"])(this,t),a=Object(i["a"])(this,Object(u["a"])(t).call(this,t.contract(e.eos.network.type),e,t.ID,n)),a.gameTable=new s["c"](a.eos,a.name),a.resultTable=new h["a"](a.eos,a.name,!0),a}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"contract",value:function(e){switch(e){case o["b"].KYLIN:return"godappcbacca";default:return"dappbaccarat"}}}]),t}(l["a"]);f.ID=6;var d=n("6a63");n.d(t,"a",function(){return b});var b=function(e){function t(e){var n;return Object(r["a"])(this,t),n=Object(i["a"])(this,Object(u["a"])(t).call(this,e)),n.game=new s["b"](void 0),n.betType=s["a"].Unknown,n.contract=new f(n.house,n.betToString),n}return Object(c["a"])(t,e),Object(a["a"])(t,[{key:"getResultString",value:function(){return this.betToString(this.game.result)+(this.game.playerPair?", Player Pair":"")+(this.game.bankerPair?", Banker Pair":"")}},{key:"betToString",value:function(e){switch(e){case s["a"].BankerWin:return"Banker Win";case s["a"].PlayerWin:return"Player Win";case s["a"].Tie:return"Tie";default:return""}}}]),t}(d["a"])},d752:function(e,t,n){var r=n("7726").parseFloat,a=n("aa77").trim;e.exports=1/r(n("fdef")+"-0")!==-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},e585:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),n("select",{directives:[{name:"model",rawName:"v-model",value:e.current,expression:"current"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current=t.target.multiple?n:n[0]}}},e._l(e.games,function(t){return n("option",{domProps:{value:t}},[e._v("\n            "+e._s(t.controller.contract.name)+"\n        ")])})),n("button",{on:{click:e.connect}},[e._v("Connect")]),n("br"),n("br"),e._l(e.current.actions,function(t){return n("button",{key:t.name,staticClass:"switchBtn",on:{click:function(n){e.performAction(t)}}},[e._v(e._s(t.name)+"\n    ")])}),n("div",[e._v(e._s(e.message))])],2)},a=[],i=(n("96cf"),n("1da1")),u=n("d4ec"),c=n("bee2"),s=n("99de"),o=n("7e84"),l=n("45eb"),h=n("262e"),f=(n("cadf"),n("551c"),n("097d"),n("9ab4")),d=n("60a3"),b=n("83e0"),v=n("90f4"),m=(n("7f7f"),n("abdf")),y=n("47bb"),p=function e(t,n){Object(u["a"])(this,e),this.name=t,this.action=n},k=function(){function e(t){Object(u["a"])(this,e),this.controller=t,this.actions=[],this.addAction("Tokens",function(e){return e.contract.tokens.readAll()}),this.addAction("Players",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.contract.players.readAll();case 2:return n=e.sent,e.abrupt("return",n.map(function(e){return e.name+":"+(e.in.quantity-e.out.quantity)/1e3}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this.addAction("Globals",function(e){return e.contract.globals.readAll()}),this.addAction("Init",function(e){return e.house.addGame(e.contract.name,e.contract.id)}),this.addAction("Activate",function(e){return e.contract.setActive(!0)}),this.addAction("Deactivate",function(e){return e.contract.setActive(!1)}),this.addAction("ResetToken",function(e){return e.house.updateToken(e.contract.name,m["a"].EOS,1e3,1e6,15e6)}),this.addAction("Deposit",function(e){return e.house.transfer(new y["a"](500,m["a"].EOS),"deposit,"+e.contract.name)})}return Object(c["a"])(e,[{key:"addAction",value:function(e,t){var n=this.controller;this.actions.push(new p(e,Object(i["a"])(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:return r=e.sent,e.abrupt("return",JSON.stringify(r));case 4:case"end":return e.stop()}},e,this)}))))}}]),e}();k.PUBLIC_KEY="EOS8UUZPji2ATfrA45GzQod5gjxXvDYZeFcg95p32PueoPsfdM8XN",k.PRIVATE_KEY="5Kart9egqapRE6bXvSEr9sAaJecWxAvzZags9B831oab7TK29w7";var g=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e)),n.addAction("Game",function(e){return e.contract.gameTable.readAll()}),n.addAction("Results",function(e){return e.contract.resultTable.readAll()}),n.addAction("NewRound",function(e){return e.contract.newRound()}),n.addAction("SetKey",function(e){return e.house.setRandomKey(k.PUBLIC_KEY)}),n.addAction("Close",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.contract.gameTable.readAll();case 2:return n=e.sent,e.abrupt("return",t.contract.reveal(n[0].id,t.contract.eos.signHash(n[0].seed,k.PRIVATE_KEY)));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),n}return Object(h["a"])(t,e),t}(k),O=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e)),n.addAction("SetKey",function(e){return e.house.setRandomKey(k.PUBLIC_KEY)}),n.addAction("Resolve",function(e){return e.contract.resolveAll(k.PRIVATE_KEY)}),n}return Object(h["a"])(t,e),t}(k),w=n("fa13"),j=n("77da"),B=n("a25e"),T=n("448c"),S=n("d14a"),R=n("e5b6"),P=n("62e8"),A=n("eb0e"),I=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.message="",e.games=[],e.current=new k(new w["b"](b["a"].instance)),e}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"connect",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.control.eos,!t.loggedIn()){e.next=6;break}return e.next=4,t.connector.logout();case 4:e.next=9;break;case 6:return e.next=8,t.connector.login();case 8:this.message="Hello "+t.connector.getAccount();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"performAction",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.action();case 2:this.message=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createController",value:function(e){return this.games=[new O(new w["b"](e)),new k(new j["a"](e)),new k(new A["a"](e)),new g(new B["a"](e)),new g(new S["a"](e)),new g(new v["a"](e)),new g(new T["a"](e))],this.current=this.games[0],new P["a"](e)}},{key:"mounted",value:function(){Object(l["a"])(Object(o["a"])(t.prototype),"mounted",this).call(this)}}]),t}(R["a"]);I=f["a"]([d["a"]],I);var C=I,_=C,L=(n("80c7"),n("2877")),E=Object(L["a"])(_,r,a,!1,null,"27244cff",null);E.options.__file="manage.vue";t["default"]=E.exports},eb0e:function(e,t,n){"use strict";n("96cf");var r,a,i=n("1da1"),u=n("d4ec"),c=n("bee2"),s=n("99de"),o=n("7e84"),l=n("262e"),h=(n("c5f6"),n("5df2"),n("cadf"),n("551c"),n("097d"),n("47bb")),f=n("f370"),d=(n("f4ff"),function(){function e(t){Object(u["a"])(this,e),this.h=0;for(var n=0,r=1779033703^t.length;n<t.length;n++)this.h=Math.imul(r^t.charCodeAt(n),3432918353);this.h=this.h<<13|this.h>>>19}return Object(c["a"])(e,[{key:"seed",value:function(){return this.h=Math.imul(this.h^this.h>>>16,2246822507),this.h=Math.imul(this.h^this.h>>>13,3266489909),(this.h^=this.h>>>16)>>>0}}]),e}()),b=function(){function e(t){Object(u["a"])(this,e);var n=new d(t);this.a=n.seed(),this.b=n.seed(),this.c=n.seed(),this.d=n.seed()}return Object(c["a"])(e,[{key:"gen",value:function(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;var e=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,e=e+this.d|0,this.c=this.c+e|0,(e>>>0)/4294967296}},{key:"generate",value:function(e){return Math.floor(this.gen()*e)}}]),e}(),v=(n("5df3"),n("f400"),n("ac4d"),n("8a81"),n("ac6a"),function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"contains",value:function(e,t){var n=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(t(c))return!0}}catch(s){r=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return!1}},{key:"toMap",value:function(e,t,n){var r=new Map;return e.forEach(function(e){return r.set(t(e),n(e))}),r}},{key:"makeRange",value:function(e,t){for(var n=[],r=0;r<e;++r)n.push(t(r));return n}},{key:"remove",value:function(e,t){if(null!==e&&null!==t){for(var n=-1,r=e.length,a=0;a<r-1;a++)e[a]===t&&(n=a);e.splice(n,1)}}},{key:"swap",value:function(e,t,n){var r=e[n];return e[n]=e[t],e[t]=r,r}}]),e}()),m=n("0769"),y=function e(t){Object(u["a"])(this,e),Object(f["e"])(t)?(this.id=t.id,this.player=t.player,this.referer=t.referer,this.seed=t.seed,this.timestamp=new m["a"](t.time)):(this.id=0,this.player="",this.referer="",this.seed="",this.timestamp=new m["a"](""))};(function(e){e[e["Unknown"]=0]="Unknown",e[e["Pending"]=1]="Pending",e[e["Revealed"]=2]="Revealed"})(r||(r={})),function(e){e[e["Hit"]=1]="Hit",e[e["Bonus"]=2]="Bonus",e[e["Miss"]=3]="Miss"}(a||(a={}));var p=function e(t,n,r,a){Object(u["a"])(this,e),this.reward=t,this.result=n,this.value=r,this.values=a},k=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e)),n.results=[],Object(f["e"])(e)?(n.price=h["a"].fromString(e.price),n.reward=h["a"].fromString(e.reward),n.result=Number.parseFloat(e.result),n.status=0===n.result?r.Pending:r.Revealed):(n.price=h["a"].DEFAULT,n.reward=h["a"].DEFAULT,n.result=0,n.status=r.Unknown),n}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"getResults",value:function(){return 0!==this.result&&Object(f["c"])(this.results)&&(this.results=t.generateResults(this.result,this.seed)),this.results}},{key:"isActive",value:function(){return 0!==this.result}},{key:"canMakeBet",value:function(){return this.status!==r.Pending}}],[{key:"generateResults",value:function(e,n){for(var r=[],i=[],u=[],c=0;c<5;c++)u[c]=3&e,e>>=2,i[c]=15&e,e>>=4;for(var s=new b(n),o=[0,1,2,3,4],l=[1,2,3,4,5,6,7,8,9],h=0;h<5;h++){for(var f=[],d=u[h]===a.Bonus?s.generate(4):-1,m=v.swap(o,h,h+s.generate(5-h)),y=0;y<4;y++){var k=v.swap(l,y,y+s.generate(9-y));f[y]=d===y?99:10*m+k}var g=u[h]===a.Hit?f[s.generate(4)]:10*m+l[4+s.generate(5)];r[h]=new p(t.SCRATCH_TYPES[i[h]],u[h],g,f)}return r}}]),t}(y);k.SCRATCH_TYPES=[1,2,5,10,20,50,100,1e3,1e4];n("6b54"),n("7f7f");var g,O=n("292a"),w=n("4670"),j=n("39c6"),B=function(e){function t(e,n){return Object(u["a"])(this,t),Object(s["a"])(this,Object(o["a"])(t).call(this,e,"activecard","player",n))}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new k(e)})}}]),t}(j["a"]),T=n("abdf");(function(e){e[e["Pig"]=0]="Pig"})(g||(g={}));var S=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e.eos.network===O["a"].KYLIN?"godappscratc":"",e,t.ID)),n.gameTable=new B(e.eos,n.name),n}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"init",value:function(){return this.pushAction("init",{})}},{key:"setGlobal",value:function(e,t){return this.pushAction("setglobal",{key:e,value:t})}},{key:"play",value:function(e,t,n,r,a){return this.transfer(r,e+","+t+","+n+","+a)}},{key:"openCard",value:function(e,t,n){return this.pushAction("play",{player:this.eos.account.name,card_type:e,price:new h["a"](t,T["a"].EOS).toString(),referer:n})}},{key:"claim",value:function(){return this.pushAction("claim",{player:this.eos.account.name})}}]),t}(w["b"]);S.ID=w["a"].Scratch;var R,P=n("3797");(function(e){e[e["Initializing"]=0]="Initializing",e[e["NotLoading"]=1]="NotLoading",e[e["Loading"]=2]="Loading"})(R||(R={}));var A=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e)),n.historyTicker=void 0,n.gameTicker=void 0,n.lastId=-1,n.referer="",n.loadingStatus=R.Initializing,n.game=n.createEmptyGame(),n.lastGame=n.createEmptyGame(),n}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"initialize",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.referer=Object(f["e"])(t)?t:"",this.startGetHistory(),this.startGetMyGame(0);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){null!==this.historyTicker&&(clearInterval(this.historyTicker),this.historyTicker=null)}},{key:"reset",value:function(){this.game=this.createEmptyGame()}},{key:"startGetMyGame",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:2e3,n=a.length>1&&void 0!==a[1]?a[1]:"",Object(f["d"])(n)){e.next=5;break}return e.next=5,this.eos.waitUntilImmutable(n);case 5:this.stopGetMyGame(),this.gameTicker=setTimeout(Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.eos.loggedIn()){e.next=10;break}return e.prev=1,e.next=4,r.gameTable.getById(r.eos.account.name);case 4:n=e.sent,r.game=Object(f["e"])(n)?n:r.createEmptyGame(),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:t=r.canFinishLoading(),t?r.loadingStatus=R.NotLoading:r.startGetMyGame(500);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stopGetMyGame",value:function(){null!==this.gameTicker&&(clearTimeout(this.gameTicker),this.gameTicker=null)}},{key:"startGetHistory",value:function(){var e=this;this.historyTicker=setInterval(function(){e.getHistory()},3e3)}},{key:"canMakeBet",value:function(){return this.loadingStatus===R.NotLoading&&this.game.canMakeBet()}},{key:"onBetMade",value:function(e){this.loadingStatus=R.Loading,this.lastGame=this.game,this.reset(),this.startGetMyGame(0,e),this.betControl.finishBet(0)}}]),t}(P["a"]);n.d(t,"a",function(){return I});var I=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(s["a"])(this,Object(o["a"])(t).call(this,e)),n.contract=new S(n.house),n.gameTable=n.contract.gameTable,n}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"makeBet",value:function(e){return this.buyCards(g.Pig,e,1)}},{key:"buyCards",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.contract.play(t,1e4*n,r,new h["a"](n*r,T["a"].EOS),this.referer);case 2:return a=e.sent,this.onBetMade(a.id),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"openCard",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.contract.openCard(t,1e4*n,this.referer);case 2:return r=e.sent,this.onBetMade(r.id),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"canClaim",value:function(){return this.game.status===r.Revealed&&this.game.reward.quantity>0}},{key:"claim",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.contract.claim();case 2:return t=e.sent,this.loadingStatus=R.Loading,this.lastGame=this.game,this.startGetMyGame(0,t.id),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"betText",value:function(){return"Get Card"}},{key:"canFinishLoading",value:function(){return this.eos.loggedIn()&&this.game.status!==r.Pending&&(this.lastGame.status!==r.Revealed||this.game.id!==this.lastGame.id)}},{key:"createEmptyGame",value:function(){return new k(void 0)}},{key:"getHistory",value:function(){}}]),t}(A)},f4ff:function(e,t,n){var r=n("5ca1"),a=Math.imul;r(r.S+r.F*n("79e5")(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var n=65535,r=+e,a=+t,i=n&r,u=n&a;return 0|i*u+((n&r>>>16)*u+i*(n&a>>>16)<<16>>>0)}})},fa13:function(e,t,n){"use strict";n("ac4d"),n("8a81"),n("ac6a"),n("6b54"),n("96cf");var r=n("1da1"),a=(n("7f7f"),n("d4ec")),i=n("bee2"),u=n("99de"),c=n("7e84"),s=n("262e"),o=(n("cadf"),n("551c"),n("097d"),n("55dd"),n("39c6")),l=n("47bb"),h=n("abdf"),f=n("0769"),d=function(){function e(t){Object(a["a"])(this,e);var n=h["a"].fromSymbol(t.sym);this.id=t.id,this.betId=t.bet_id,this.player=t.player,this.betNumber=t.bet_value,this.rollNumber=t.roll_value,this.betAmount=l["a"].fromRawAmount(t.bet,n),this.payout=l["a"].fromRawAmount(t.payout,n),this.timestamp=new f["a"](t.time),this.profit=this.isWin?this.payout.minus(this.betAmount.quantity):new l["a"](0,h["a"].EOS)}return Object(i["a"])(e,[{key:"getToalProfit",value:function(){return this.payout.toString()}},{key:"isWin",get:function(){return this.payout.quantity>0}}]),e}(),b=function(e){function t(e,n){return Object(a["a"])(this,t),Object(u["a"])(this,Object(c["a"])(t).call(this,e,"games","id",n))}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new d(e)}).sort(function(e,t){return t.timestamp.value-e.timestamp.value})}}]),t}(o["a"]),v=n("292a"),m=n("4670"),y=function e(t){Object(a["a"])(this,e),this.id=t.id,this.player=t.player,this.referer=t.referer,this.betNumber=t.bet_number,this.betAsset=l["a"].fromString(t.bet_asset),this.seed=t.seed,this.timestamp=new f["a"](t.time)},p=function(e){function t(e,n){return Object(a["a"])(this,t),Object(u["a"])(this,Object(c["a"])(t).call(this,e,"activebets","id",n))}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"convert",value:function(e){return e.map(function(e){return new y(e)})}}]),t}(o["a"]),k=function(e){function t(e){var n;return Object(a["a"])(this,t),n=Object(u["a"])(this,Object(c["a"])(t).call(this,t.contract(e.eos),e,t.ID)),n.historyTable=new b(e.eos,n.name),n}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"play",value:function(e,t,n){return this.transfer(t,"".concat(e,",").concat(n,","))}},{key:"setRandomKey",value:function(e){return this.pushAction("setrandkey",{key:e})}},{key:"resove",value:function(e,t){return this.pushAction("resolve",{bet_id:e,sig:t})}},{key:"resolveAll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,u,c,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new p(this.eos,this.name).readAll();case 2:for(n=e.sent,r=!0,a=!1,i=void 0,e.prev=6,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)s=c.value,o=this.eos.signHash(s.seed,t),this.resove(s.id,o);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),a=!0,i=e.t0;case 14:e.prev=14,e.prev=15,r||null==u.return||u.return();case 17:if(e.prev=17,!a){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(t){return e.apply(this,arguments)}}()}],[{key:"contract",value:function(e){switch(e.network.type){case v["b"].LOCALHOST:return"dice";case v["b"].KYLIN:return"godappdice12";default:return"godice.e"}}}]),t}(m["b"]);k.ID=1;var g,O=n("f370"),w=n("3797");n.d(t,"a",function(){return g}),n.d(t,"b",function(){return j}),function(e){e[e["BetResult_UnKnow"]=0]="BetResult_UnKnow",e[e["BetResult_Success"]=1]="BetResult_Success",e[e["BetResult_Error"]=2]="BetResult_Error"}(g||(g={}));var j=function(e){function t(e){var n;return Object(a["a"])(this,t),n=Object(u["a"])(this,Object(c["a"])(t).call(this,e)),n.betNumber=49,n.allBetTicker=null,n.allTableLoading=!0,n.rollValue="00",n.allData=[],n.winCount=0,n.rollStartTime=0,n.referer="",n.isLoading=!1,n.showResult=!1,n.myData=[],n.betResult=g.BetResult_UnKnow,n.contract=new k(n.house),n}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"getName",value:function(){return this.eos.loggedIn()?this.eos.account.name:""}},{key:"toLogin",value:function(){this.eos.connect()}},{key:"curOdds",value:function(){return this.getOdds(this.betNumber).toFixed(2)}},{key:"curProfit",value:function(){var e=parseFloat((this.betControl.amount*this.getOdds(this.betNumber)).toFixed(2));return e=this.limitProfit(e),e}},{key:"limitProfit",value:function(e){var n=e;return n>t.MAX_PROFIT?(n=t.MAX_PROFIT,this.betControl.amount=n/this.getOdds(this.betNumber),this.betControl.amount=Math.floor(100*this.betControl.amount)/100,this.curProfit()):n}},{key:"initialize",value:function(e){this.referer=Object(O["e"])(e)?e:"",this.startTicker()}},{key:"destroy",value:function(){this.stopTicker()}},{key:"getOdds",value:function(e){return 98/e}},{key:"startTicker",value:function(){var e=this;this.stopTicker(),this.allBetTicker=setInterval(function(){e.updateAllBetTable()},3e3)}},{key:"stopTicker",value:function(){null!==this.allBetTicker&&(clearInterval(this.allBetTicker),this.allBetTicker=null)}},{key:"getTimeStamp",value:function(){var e=new Date;return Math.floor(e.getTime()/1e3)}},{key:"updateAllBetTable",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.contract.historyTable.readAll();case 2:this.allData=e.sent,this.eos.loggedIn()?(n=Object(O["c"])(this.myData)?0:this.myData[0].betId,r=this.eos.account.name,a=this.allData.filter(function(e){return e.betId>n&&e.player===r}),a.length>0&&(a=a.concat(this.myData),a.length>t.MY_HISTORY_SIZE&&a.splice(t.MY_HISTORY_SIZE),this.myData=a)):this.myData=[],this.allTableLoading=!1;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateBetResult",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.eos.waitUntilImmutable(t);case 2:this.getRollValueFromTrans();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRollValueFromTrans",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.getRollValueFromTable(this.rollStartTime),!Object(O["e"])(t)){e.next=8;break}return n=t.rollNumber,this.rollValue=n<10?"0"+n:n.toString(10),this.betControl.finishBet(t.profit.quantity),this.updateLastResult(t),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:setTimeout(function(){r.getRollValueFromTrans()},1e3);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"getRollValueFromTable",value:function(e){var t=this.eos.account.name,n=!0,r=!1,a=void 0;try{for(var i,u=this.allData[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(c.player===t&&c.timestamp.value>=e)return c}}catch(s){r=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}}},{key:"betText",value:function(){return"Roll Under "+this.betNumber}},{key:"makeBet",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.clearResult(),this.betResult=g.BetResult_UnKnow,this.rollStartTime=this.getTimeStamp(),e.next=5,this.contract.play(this.betNumber,new l["a"](t,h["a"].EOS),this.referer);case 5:return n=e.sent,this.isLoading=!0,setTimeout(function(){n.isError?(r.isLoading=!1,r.betResult=g.BetResult_Error):(r.updateBetResult(n.id),r.betResult=g.BetResult_Success)},1500),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"canMakeBet",value:function(){return!0}},{key:"clearResult",value:function(){this.showResult=!1,this.lastResult=void 0,this.isLoading=!1}},{key:"updateLastResult",value:function(e){this.showResult=!0,this.lastResult=e,this.winCount=e.isWin?this.winCount+1:0,this.isLoading=!1}},{key:"shouldShowResult",value:function(){return this.showResult&&Object(O["e"])(this.lastResult)}},{key:"dismissResult",value:function(){this.showResult=!1}},{key:"isWin",value:function(){return Object(O["e"])(this.lastResult)&&this.lastResult.isWin}},{key:"referralLink",value:function(e){return e+(this.eos.loggedIn()?"?ref="+this.eos.account.name:"")}},{key:"otherLink",value:function(){return[]}}]),t}(w["a"]);j.MY_HISTORY_SIZE=50,j.MAX_PROFIT=200},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);