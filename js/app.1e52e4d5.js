(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],h=0,f=[];h<o.length;h++)s=o[h],a[s]&&f.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0748":function(t,e,n){"use strict";var r=n("f18b"),a=n.n(r);a.a},"0ad6":function(t,e,n){t.exports=n.p+"img/blackjack_ret.2395beae.png"},1:function(t,e){},"19dd":function(t,e,n){"use strict";var r=n("c1be"),a=n.n(r);a.a},"1b4e":function(t,e,n){"use strict";var r=n("8d5b"),a=n.n(r);a.a},2:function(t,e){},3:function(t,e){},"3e35":function(t,e,n){},"3fab":function(t,e){t.exports={bj_result_player_busted:"Player Busted",bj_result_banker_busted:"Banker Busted",bj_result_player_win:"Player Wins",bj_result_banker_win:"Banker Wins",bj_result_push:"Push",bj_result_player_blackjack:"Player Blackjack",bj_result_surrender:"Surrender"}},4:function(t,e){},4605:function(t,e,n){t.exports=n.p+"img/busted_ret.4c7e175e.png"},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5c3f":function(t,e,n){"use strict";var r=n("92ab"),a=n.n(r);a.a},"5e27":function(t,e,n){},"8a7e":function(t,e,n){},"8d5b":function(t,e,n){},"92ab":function(t,e,n){},"967a":function(t,e,n){"use strict";var r=n("3e35"),a=n.n(r);a.a},"9e7d":function(t,e,n){t.exports=n.p+"img/jack_back.c3770e61.png"},af5a:function(t,e,n){"use strict";var r=n("8a7e"),a=n.n(r);a.a},c1be:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=(n("5c0b"),n("2877")),o={},c=Object(s["a"])(o,a,i,!1,null,null,null);c.options.__file="App.vue";var u,l,h=c.exports,f=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"dice_container"},[n("div",{staticClass:"dice_topWrap"},[n("div",{staticClass:"dice_topContainer"},[n("div",{staticClass:"dice_topBox"},[n("div",{staticClass:"dice_top"},[n("div",{staticClass:"numberBox"},[n("div",{staticClass:"number_left"},[n("p",{staticClass:"largeNum"},[t._v(t._s(t.control.betNumber))]),n("p",{staticClass:"num_desc"},[t._v(t._s("Predict"))])]),n("div",{staticClass:"number_right"},[n("p",{ref:"rollResult",staticClass:"largeNum",style:t.rollStyle},[t._v(t._s(t.control.rollValue))]),n("p",{staticClass:"num_desc"},[t._v(t._s("Result"))])])]),n("div",{staticClass:"slideBox"},[n("button",{ref:"handleUnder",staticClass:"switchBtn",class:t.control.isRollUnder?"active":"",on:{click:function(e){t.control.handleUnder()}}},[t._v(t._s("ROLL UNDER")+"\n                            ")]),t.control.isRollUnder()?n("div",{staticClass:"slideWrap"},[n("span",{staticClass:"startNum"},[t._v("0")]),n("span",{staticClass:"endNum"},[t._v("99")]),n("div",{staticClass:"triangle_right"}),n("vue-slider",t._b({ref:"underSlide",staticClass:"rollSlide",model:{value:t.control.betNumber,callback:function(e){t.$set(t.control,"betNumber",e)},expression:"control.betNumber"}},"vue-slider",t.underSlide,!1))],1):n("div",{staticClass:"slideWrap"},[n("span",{staticClass:"startNum"},[t._v("0")]),n("span",{staticClass:"endNum"},[t._v("99")]),n("div",{staticClass:"triangle_left"}),n("div",{staticClass:"triangle_right"}),n("vue-slider",t._b({ref:"overSlide",staticClass:"rollSlide",model:{value:t.control.betNumber,callback:function(e){t.$set(t.control,"betNumber",e)},expression:"control.betNumber"}},"vue-slider",t.overSlide,!1))],1),n("button",{ref:"handleOver",staticClass:"switchBtn",class:t.control.isRollUnder()?"":"active",on:{click:function(e){t.control.handleOver()}}},[t._v(t._s("ROLL OVER")+"\n                            ")])])]),n("div",{staticClass:"dice_center"},[n("div",[n("p",[t._v(t._s("Payout"))]),n("p",[t._v(t._s(t.control.curOdds())+"x")])]),n("div",[n("p",[t._v(t._s("Profit on Win"))]),n("p",[t._v(t._s(t.control.curProfit())+" "+t._s("EOS"))])]),n("div",[n("p",[t._v(t._s("Win Chance"))]),n("p",[t._v(t._s(t.control.curWinChance())+"%")])])]),n("div",{staticClass:"cl"},[n("div",{staticClass:"amount_right"},[n("p",{staticClass:"label_title"},[t._v(t._s("Bet Amount"))]),n("div",{staticClass:"dice_btm cl"},[n("div",{staticClass:"dice_btm_left cl"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.control.amount,expression:"control.amount"}],attrs:{type:"number",min:"1"},domProps:{value:t.control.amount},on:{input:function(e){e.target.composing||t.$set(t.control,"amount",e.target.value)}}}),n("button",{on:{click:function(e){t.control.stepAmount(2)}}},[t._v("2x")]),n("button",{on:{click:function(e){t.control.stepAmount(.5)}}},[t._v("1/2")]),n("button",{on:{click:function(e){t.control.setMin()}}},[t._v("Min")]),n("button",{on:{click:function(e){t.control.setMax()}}},[t._v("Max")])]),n("div",{staticClass:"dice_btm_right"},[t.control.rollLoading?n("Loading"):[t.control.isRollUnder()?n("button",{attrs:{disabled:t.control.rollLoading},on:{click:function(e){t.control.bet()}}},[t._v(t._s("Roll Under")+" "+t._s(t.control.betNumber))]):n("button",{attrs:{disabled:t.control.rollLoading},on:{click:function(e){t.control.bet()}}},[t._v(t._s("Roll Over")+" "+t._s(t.control.betNumber))])]],2)]),n("p",[t.control.isLoggedIn()?n("span",{staticClass:"label_title"},[t._v(t._s("Balance")+": "+t._s(t.control.balance.toString()))]):n("span",[t._v("Â ")]),n("transition",{attrs:{name:"balance-fade"}},[t.balanceEffectVisible?n("span",{style:t.balanceEffectStyle},[t._v(" "+t._s(t.balanceDelta<0?""+t.balanceDelta:"+"+t.balanceDelta)+" "+t._s("EOS")+" ")]):t._e()])],1)])])])])]),n("HistoryTableView",{attrs:{data:t.control.allData,loading:t.control.allTableLoading}})],1)])},v=[],b=n("d4ec"),p=n("bee2"),m=n("99de"),g=n("7e84"),y=n("262e"),k=n("257e"),_=n("9ab4"),w=n("6f79"),O=n.n(w),j=n("60a3"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableBox"},[n("table",{attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v(t._s("Time"))]),n("th",[t._v(t._s("Player"))]),n("th",{staticClass:"hidden-xs"},[t._v(t._s("Predict"))]),n("th",[t._v(t._s("Bet"))]),n("th",{staticClass:"hidden-xs"},[t._v(t._s("Payout"))]),n("th",[t._v(t._s("Profit"))])])]),n("tbody",t._l(t.data,function(e){return n("tr",{key:e.id,class:{win:e.iswin?"win":"",newItem:e.isNew?"newItem":""}},[n("td",[t._v(t._s(e.timestamp.toString()))]),n("td",[t._v(t._s(e.player))]),n("td",{staticClass:"hidden-xs"},[n("div",[e.isRollOver?n("p",{staticClass:"predict"},[t._v(t._s("Higher Than")+" "+t._s(e.betNumber))]):n("p",{staticClass:"predict"},[t._v(t._s("Lower Than")+" "+t._s(e.betNumber))]),n("Progress",{attrs:{betNum:e.betNumber,rollNum:e.rollNumber,isWin:e.isWin,ismore:e.isRollOver}})],1)]),n("td",[t._v(t._s(e.betAmount.toString()))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.payout.toString()))]),n("td",{staticClass:"profit"},[e.isWin?n("div",{staticClass:"win_color"},[t._v("\n                    + "+t._s(e.profit.toString())+"\n                ")]):n("div")])])}))])])},T=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progressContainer",class:{win:t.isWin?"win":""}},[t.ismore?n("div",{staticClass:"progressItem",style:{width:100-t.betNum+"%",right:"0%"}}):n("div",{staticClass:"progressItem",style:{width:t.betNum+"%",left:"0%"}}),n("div",{staticClass:"rollNum",style:{left:t.rollNum-1+"%"}},[t._v(t._s(t.rollNum))])])},x=[],R=(n("c5f6"),u=Object(j["a"])({props:{betNum:{type:Number,requied:!0},rollNum:{type:Number,requied:!0},ismore:{type:Boolean,requied:!0},isWin:{type:Boolean,requied:!0}}}),u(l=function(t){function e(){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(j["b"]))||l),A=R,N=(n("e58c"),Object(s["a"])(A,C,x,!1,null,"d1aad53a",null));N.options.__file="progress.vue";var E=N.exports,B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"bounce1"}),n("div",{staticClass:"bounce2"}),n("div",{staticClass:"bounce3"})])}],I=(n("5c3f"),{}),M=Object(s["a"])(I,B,P,!1,null,"b50b2b44",null);M.options.__file="loading.vue";var L=M.exports,W=function(t){function e(){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(j["b"]);W=_["a"]([Object(j["a"])({props:{data:{type:Array,required:!0},loading:{type:Boolean,required:!0}},components:{Progress:E,Loading:L}})],W);var G=W,V=G,U=Object(s["a"])(V,S,T,!1,null,null,null);U.options.__file="diceHistoryTableView.vue";var D=U.exports,H=n("53ca");function F(t){return null!=t}function q(t){return null==t}function K(t){return Object(H["a"])(t)===Object(H["a"])(!0)}function z(t){return q(t)||0===t.length}function $(t){return q(t)||0===t.length}function X(t,e){var n=Math.pow(10,e);return(Math.floor(t*n)/n).toFixed(e)}n("ac4d"),n("8a81"),n("ac6a"),n("6b54"),n("7f7f"),n("96cf");var Y=n("1da1"),J=function(){function t(e,n){Object(b["a"])(this,t),this.name=e,this.eos=n}return Object(p["a"])(t,[{key:"accountName",value:function(){return this.eos.account.name}},{key:"pushAction",value:function(t,e){return this.eos.call(this.name,t,e)}},{key:"transfer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.eos.transfer(this.name,t,e)}}]),t}(),Q=(n("5df3"),n("4f7f"),function(){function t(e,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a;Object(b["a"])(this,t),this.eos=e,this.name=n,this.key=r,this.code=a,this.scope=i}return Object(p["a"])(t,[{key:"readAll",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,s,o,c,u,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new Set,n=[],r={},a="";case 4:return t.next=6,this.eos.getTableRows(this,500,a);case 6:for(r=t.sent,i=!0,s=!1,o=void 0,t.prev=10,c=r.rows[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)l=u.value,a=l[this.key],e.has(a)||(e.add(a),n.push(l));t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),s=!0,o=t.t0;case 18:t.prev=18,t.prev=19,i||null==c.return||c.return();case 21:if(t.prev=21,!s){t.next=24;break}throw o;case 24:return t.finish(21);case 25:return t.finish(18);case 26:if(r.more){t.next=4;break}case 27:return t.abrupt("return",this.convert(n));case 28:case"end":return t.stop()}},t,this,[[10,14,18,26],[19,,21,25]])}));return function(){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.getTableRows(this,n,e);case 2:return r=t.sent,t.abrupt("return",this.convert(r.rows));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.getTableRows(this,1,e);case 2:if(n=t.sent,!(n.rows.length>0)){t.next=7;break}if(r=n.rows[0],r[this.key]!==e){t.next=7;break}return t.abrupt("return",this.convert(n.rows)[0]);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"convert",value:function(t){return t}}]),t}()),Z=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"globals","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t}}]),e}(Q),tt=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"tokens","sym",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t}}]),e}(Q),et=(n("55dd"),n("20d6"),n("28a5"),n("f400"),function(){function t(e,n,r){Object(b["a"])(this,t),this.symbol=e,this.contract=n,this.precision=r,this.baseUnit=Math.pow(10,r)}return Object(p["a"])(t,[{key:"toString",value:function(){return this.precision+","+this.symbol}}],[{key:"initialize",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=this.ALL_TOKENS[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.TOKEN_CONTRACT_MAP.set(i.contract,i),this.TOKEN_SYMBOL_MAP.set(i.symbol,i)}}catch(s){e=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}}},{key:"fromSymbol",value:function(t){var e=this.TOKEN_SYMBOL_MAP.get(t);if(q(e))throw new Error("Token does not exist for symbol "+t);return e}},{key:"fromContract",value:function(t){var e=this.TOKEN_CONTRACT_MAP.get(t);if(q(e))throw new Error("Token does not exist for contract "+t);return e}}]),t}());et.EOS=new et("EOS","eosio.token",4),et.ALL_TOKENS=[et.EOS],et.TOKEN_CONTRACT_MAP=new Map,et.TOKEN_SYMBOL_MAP=new Map,et.initialize();var nt=function(){function t(e,n){Object(b["a"])(this,t),this.quantity=e,this.token=n}return Object(p["a"])(t,[{key:"toString",value:function(){return X(this.quantity,this.token.precision)+" "+this.token.symbol}},{key:"add",value:function(e){return new t(this.quantity+e,this.token)}},{key:"minus",value:function(e){return new t(this.quantity-e,this.token)}}],[{key:"fromRawAmount",value:function(e,n){return new t(e/n.baseUnit,n)}},{key:"fromString",value:function(e){var n=e.split(" ");if(2!==n.length)throw new Error("Wrong asset format");var r=et.fromSymbol(n[1]);return new t(parseFloat(n[0]),r)}},{key:"findBySymbol",value:function(e,n){var r=e.findIndex(function(t){return t.token.symbol===n});return r<0?new t(0,et.fromSymbol(n)):e[r]}}]),t}(),rt=function(){function t(){Object(b["a"])(this,t)}return Object(p["a"])(t,null,[{key:"initialize",value:function(){0===new Date("1970-01-01T00:00:00").getTime()?this.ISO_SUFFIX="":0===new Date("1970-01-01T00:00:00-0000").getTime()&&(this.ISO_SUFFIX="-0000")}},{key:"toISOTimestamp",value:function(t){return new Date(t+this.ISO_SUFFIX).getTime()/1e3}}]),t}();rt.ISO_SUFFIX="",rt.initialize();var at=function(){function t(e){Object(b["a"])(this,t),this.str=e,z(e)?this.value=0:this.value=rt.toISOTimestamp(e)}return Object(p["a"])(t,[{key:"toString",value:function(){return this.str}}]),t}(),it=function(){function t(e){Object(b["a"])(this,t);var n=et.fromContract(e.contract);this.id=e.id,this.betId=e.bet_id,this.player=e.bettor,this.betNumber=e.roll_border,this.rollNumber=e.roll_value,this.rollMode=e.roll_type,this.betAmount=nt.fromRawAmount(e.bet_amt,n),this.payout=$(e.payout)?new nt(0,et.EOS):nt.fromString(e.payout[0]),this.timestamp=new at(e.time),this.profit=this.isWin?this.payout.minus(this.betAmount.quantity):new nt(0,et.EOS)}return Object(p["a"])(t,[{key:"isRollOver",get:function(){return this.rollMode===ct.Over}},{key:"isWin",get:function(){return 0!==this.payout.quantity}}]),t}(),st=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"activebets","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new it(t)}).sort(function(t,e){return e.timestamp.value-t.timestamp.value})}}]),e}(Q),ot=function t(e,n,r,a,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"eos";Object(b["a"])(this,t),this.host=e,this.port=n,this.network=r,this.protocol=a,this.chainId=i,this.blockchain=s};ot.MAINNET=new ot("eos.greymass.com",443,"mainnet","https","aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"),ot.LOCALHOST=new ot("127.0.0.1",8888,"testnet","http","cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f"),ot.KYLIN=new ot("api-kylin.eosasia.one",443,"testnet","https","5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191");var ct,ut=function t(){Object(b["a"])(this,t)};ut.NETWORK=ot.KYLIN,function(t){t[t["Under"]=1]="Under",t[t["Over"]=2]="Over"}(ct||(ct={}));var lt=function(t){function e(t){var n;return Object(b["a"])(this,e),n=Object(m["a"])(this,Object(g["a"])(e).call(this,e.CONTRACT,t)),n.globalVarTable=new Z(t,n.name),n.tokensTable=new tt(t,n.name),n.historyTable=new st(t,n.name),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"init",value:function(){return this.pushAction("init",{})}},{key:"setActive",value:function(t){return this.pushAction("setactive",{active:t})}},{key:"play",value:function(t,e,n){return this.transfer(n,"".concat(t,",").concat(e,",",","))}}]),e}(J);lt.CONTRACT=ut.NETWORK===ot.LOCALHOST?"dice":"codemonkeyte";var ht=n("d3b7"),ft=n.n(ht),dt=function t(e){Object(b["a"])(this,t),this.id=e.transaction_id,this.blockNumber=e.processed.block_num,this.executed="executed"===e.processed.receipt.status},vt=function(){function t(){Object(b["a"])(this,t)}return Object(p["a"])(t,null,[{key:"make",value:function(t){return new Promise(function(e){return e(t)})}},{key:"delay",value:function(t){return new Promise(function(e){setTimeout(function(){return e()},t)})}},{key:"delayUntil",value:function(t,e){return Promise.all([t,this.delay(e)]).then(function(t){return t[0]})}}]),t}(),bt=function(){function t(e){Object(b["a"])(this,t),this.connector=e;var n=e.network;this.eos=ft()({chainId:n.chainId,httpEndpoint:"".concat(n.protocol,"://").concat(n.host,":").concat(n.port),expireInSeconds:60,broadcast:!0,verbose:!1,sign:!0})}return Object(p["a"])(t,[{key:"loggedIn",value:function(){return this.connector.loggedIn}},{key:"connect",value:function(){return this.connector.login()}},{key:"getTableRows",value:function(t,e,n){return this.eos.getTableRows({scope:t.scope,code:t.code,table:t.name,json:!0,limit:e,lower_bound:n})}},{key:"call",value:function(){var e=Object(Y["a"])(regeneratorRuntime.mark(function e(n,r,a){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ensureConnected();case 2:return i=this.connector.getAccount(),e.next=5,this.connector.eos.transaction({actions:[{account:n,name:r,authorization:[{actor:i.name,permission:i.authority}],data:t.processType(a)}]});case 5:return s=e.sent,e.abrupt("return",new dt(s));case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transfer",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"",t.next=3,this.ensureConnected();case 3:return a=this.connector.getAccount(),t.abrupt("return",this.call(n.token.contract,"transfer",{from:a.name,to:e,quantity:n.toString(),memo:r}));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(t){return this.eos.getTransaction(t)}},{key:"ensureConnected",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loggedIn()){t.next=3;break}return t.next=3,this.connector.login();case 3:if(this.loggedIn()){t.next=5;break}throw new Error("Can not login to EOS network, user not logged in");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"waitUntilImmutable",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=3,t.prev=2;case 3:if(!(r>0)){t.next=13;break}return t.next=6,this.eos.getTransaction(e);case 6:return a=t.sent,n=0===n?a.block_num:n,n!==a.block_num?(n=0,r=3):r-=1,t.next=11,vt.delay(500);case 11:t.next=3;break;case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t["catch"](2),t.abrupt("return",this.waitUntilImmutable(e));case 18:case"end":return t.stop()}},t,this,[[2,15]])}));return function(e){return t.apply(this,arguments)}}()},{key:"account",get:function(){return this.connector.getAccount()}}],[{key:"processType",value:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];K(n)&&(t[e]=!0===n?1:0)}return t}}]),t}(),pt=n("76b0"),mt=n.n(pt),gt=n("876a"),yt=n.n(gt),kt=function(){function t(e,n){Object(b["a"])(this,t),this.name=e,this.authority=n,this.blockchain="eos"}return Object(p["a"])(t,[{key:"toString",value:function(){return this.name+"@"+this.authority}}]),t}(),_t=function(){function t(e){var n=this;Object(b["a"])(this,t),this.network=e,mt.a.plugins(new yt.a);var r=this;mt.a.scatter.connect("Blackjack").then(function(t){return!!t&&(r.scatter=mt.a.scatter,r.eos=r.scatter.eos(e,ft.a,{}),window.ScatterJS=null,n.login(),!0)})}return Object(p["a"])(t,[{key:"login",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.initialized){t.next=2;break}throw new Error("Scatter plugin has not been initialized");case 2:return t.abrupt("return",this.scatter.getIdentity({accounts:[this.network]}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loggedIn){t.next=2;break}return t.abrupt("return",this.scatter.forgetIdentity());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAccount",value:function(){if(this.loggedIn){var t=!0,e=!1,n=void 0;try{for(var r,a=this.scatter.identity.accounts[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if("eos"===i.blockchain)return new kt(i.name,i.authority)}}catch(s){e=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}}throw new Error("No account found, make sure you have logged into a wallet")}},{key:"initialized",get:function(){return F(this.scatter)}},{key:"loggedIn",get:function(){return this.initialized&&F(this.scatter.identity)}}]),t}(),wt=function(t){function e(t,n,r){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"accounts","currency",n,r))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getCurrency",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.read(e.symbol,1);case 2:if(n=t.sent,0!==n.length){t.next=7;break}return t.abrupt("return",new nt(0,e));case 7:return t.abrupt("return",nt.fromString(n[0].balance));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(Q),Ot=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,et.EOS.contract,n instanceof J?n.name:n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getBalance",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCurrency(et.EOS));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(wt),jt=function(){function t(e){Object(b["a"])(this,t),this.betNumber=49,this.allBetTicker=null,this.betInfoTicker=null,this.contractTicker=null,this.globalTicker=null,this.rollAnimationTicker=null,this.rollLoading=!1,this.allTableLoading=!0,this.rollValue="00",this.pendingRollValue=0,this.curBetId=0,this.activeIndex=0,this.rollMode=ct.Under,this.rollReal="",this.showedBetIds={},this.amount=1,this.balance=new nt(0,et.EOS),this.betAccountBalance=new nt(1e4,et.EOS),this.valueRoll=50,this.allData=[],this.rollStartTime=0,this.eos=new bt(new _t(ut.NETWORK)),this.dice=new lt(this.eos),this.callback=e}return Object(p["a"])(t,[{key:"isLoggedIn",value:function(){return this.eos.loggedIn()}},{key:"isRollUnder",value:function(){return this.rollMode===ct.Under}},{key:"curOdds",value:function(){return(98/this.curWinChance()).toFixed(2)}},{key:"curProfit",value:function(){return(this.amount*(98/this.curWinChance())).toFixed(2)}},{key:"curWinChance",value:function(){return this.getWinChance(this.rollMode,this.betNumber)}},{key:"initialize",value:function(){this.updateContractBalance(),this.startTicker()}},{key:"destroy",value:function(){this.stopTicker()}},{key:"handleOver",value:function(){this.rollMode=ct.Over}},{key:"handleUnder",value:function(){this.rollMode=ct.Under}},{key:"getWinChance",value:function(t,e){return t===ct.Under?e:99-e}},{key:"getOdds",value:function(t,e){return 98/this.getWinChance(t,e)}},{key:"stepAmount",value:function(t){this.amount=this.amount*t}},{key:"setMin",value:function(){this.amount=.01}},{key:"setMax",value:function(){this.amount=this.balance.quantity}},{key:"startTicker",value:function(){var t=this;this.stopTicker(),this.allBetTicker=setInterval(function(){t.updateAllBetTable()},5e3)}},{key:"stopTicker",value:function(){null!==this.allBetTicker&&(clearInterval(this.allBetTicker),this.allBetTicker=null),null!==this.contractTicker&&(clearInterval(this.contractTicker),this.contractTicker=null),null!==this.globalTicker&&(clearInterval(this.globalTicker),this.globalTicker=null)}},{key:"updateBalance",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isLoggedIn()){t.next=6;break}return t.next=3,new Ot(this.eos,this.eos.account.name).getBalance();case 3:this.balance=t.sent,t.next=7;break;case 6:this.balance=new nt(0,et.EOS);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateContractBalance",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Ot(this.eos,this.dice).getBalance();case 2:this.betAccountBalance=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTimeStamp",value:function(){var t=new Date;return Math.floor(t.getTime()/1e3)}},{key:"bet",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.rollLoading=!0,t.prev=1,t.next=4,this.updateBalance();case 4:return t.next=6,this.dice.play(this.rollMode,this.betNumber,new nt(this.amount,et.EOS));case 6:e=t.sent,n=-this.amount,this.callback.startBalanceEffect(n,1e3),this.balance=this.balance.add(n),this.rollStartTime=this.getTimeStamp(),this.getRollValueFromTrans(e.id,1),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.rollLoading=!1,alert("Bet failed, make sure you have signed in to scatter and approved the transaction.");case 18:case"end":return t.stop()}},t,this,[[1,14]])}));return function(){return t.apply(this,arguments)}}()},{key:"updateAllBetTable",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.historyTable.readAll();case 2:this.allData=t.sent,this.allTableLoading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRollValueFromTrans",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.eos.getTransaction(e);case 3:if(r=t.sent,a=r.block_num,1!==n){t.next=9;break}this.pendingRollValue=a,t.next=12;break;case 9:if(this.pendingRollValue===a){t.next=12;break}return this.getRollValueFromTrans(e,1),t.abrupt("return");case 12:if(i=this.getTimeStamp(),!(n>=3||i-this.rollStartTime>=5)){t.next=23;break}if(s=this.getRollValueFromTable(this.rollStartTime),!F(s)){t.next=23;break}return this.rollLoading=!1,o=s.rollNumber,this.rollValue=o<10?"0"+o:o.toString(10),t.next=21,this.updateBalance();case 21:return s.profit.quantity>0&&this.callback.startBalanceEffect(s.profit.quantity),t.abrupt("return");case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](0),console.log(t.t0);case 28:setTimeout(function(){c.getRollValueFromTrans(e,n+1)},1e3);case 29:case"end":return t.stop()}},t,this,[[0,25]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRollValueFromTable",value:function(t){var e=this.eos.account.name,n=!0,r=!1,a=void 0;try{for(var i,s=this.allData[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;if(o.player===e&&o.timestamp.value>=t)return o}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}}]),t}(),St=function(t){function e(){var t;return Object(b["a"])(this,e),t=Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.control=new jt(Object(k["a"])(Object(k["a"])(t))),t.balanceDelta=0,t.balanceTicker=null,t.balanceEffectVisible=!1,t.balanceEffectStyle={color:"green","margin-left":"10 px"},t.underSlide={roll:t.control.betNumber,height:12,dotWidth:20,dotHeight:24,min:2,max:97,speed:.1,tooltip:"hover",bgStyle:{backgroundColor:"transparent",border:"1px solid #938282"},tooltipStyle:{backgroundColor:"#666",borderColor:"#666"},processStyle:{backgroundColor:"#0DD985",margin:"-1px",height:"12px"}},t.overSlide={roll:t.control.betNumber,height:12,dotWidth:20,dotHeight:24,min:2,max:97,speed:.1,tooltip:"hover",bgStyle:{backgroundColor:"#0DD985",marginTop:"0px",height:"12px"},tooltipStyle:{backgroundColor:"#666",borderColor:"#666"},processStyle:{backgroundColor:"#230304",border:"1px solid #938282",boxShadow:"0 0 20px #230304"}},t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"mounted",value:function(){this.control.initialize()}},{key:"beforeDestroy",value:function(){this.control.destroy()}},{key:"startBalanceEffect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;this.stopBalanceEffect(),this.balanceEffectStyle.color=t<0?"red":"green",this.balanceDelta=parseFloat(X(t,4)),this.balanceEffectVisible=!0;var n=this;setTimeout(function(){return n.balanceEffectVisible=!1},e)}},{key:"stopBalanceEffect",value:function(){null!==this.balanceTicker&&(clearTimeout(this.balanceTicker),this.balanceTicker=null)}},{key:"rollStyle",get:function(){return this.control.isRollUnder?parseInt(this.control.rollValue,10)<this.control.betNumber?{color:"#0dd985"}:{color:"#9f0000"}:parseInt(this.control.rollValue,10)>this.control.betNumber?{color:"#0dd985"}:{color:"#9f0000"}}},{key:"top",get:function(){return 45*-this.control.activeIndex+"px"}},{key:"transition",get:function(){return 0===this.control.activeIndex?"none":"top 0.5s"}}]),e}(j["b"]);St=_["a"]([Object(j["a"])({components:{HistoryTableView:D,vueSlider:O.a,Loading:L}})],St);var Tt=St,Ct=Tt,xt=(n("0748"),Object(s["a"])(Ct,d,v,!1,null,null,null));xt.options.__file="dice.vue";var Rt,At=xt.exports,Nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("div",{staticClass:"top_wrap"},[r("div",{staticClass:"top_box"},[r("div",{staticClass:"inner_top"},[r("div",{staticClass:"jack_name"},[t._v(t._s("Blackjack"))]),r("CardListView",{attrs:{cards:t.control.game.bankerCards}}),r("div",{staticClass:"jack_payout"},[r("p",[t._v(t._s("PAYOUT"))]),r("p",[t._v("2.00x")])]),r("div",{staticClass:"jack_dot"},[r("p",[t._v(t._s("Banker Points"))]),r("p",[t._v(t._s(t.control.game.bankerPoints))])]),t.control.game.isBankerBusted()?r("div",{staticClass:"bankerBusted"},[r("img",{attrs:{src:n("4605"),alt:""}})]):t._e(),t.control.game.isBankerBlackjack()?r("div",{staticClass:"bankerBlack"},[r("img",{attrs:{src:n("0ad6"),alt:""}})]):t._e()],1),r("div",{staticClass:"inner_center",class:{win:t.control.game.isWin(),lose:t.control.game.isLose(),draw:t.control.game.isPush()}},[r("div",{staticClass:"jack_name"},[t._v(t._s("Player"))]),r("CardListView",{attrs:{cards:t.control.game.playerCards}}),r("div",{staticClass:"operate_mainWrap hidden-xs"},[t.control.isWaitingForAction()?t.control.isStanding()?r("p",{staticClass:"playingTip"},[t._v(t._s("Waiting for Result"))]):t.control.isHitting()?r("p",{staticClass:"playingTip"},[t._v(t._s("Waiting for Card"))]):t.control.isShuffling()?r("p",{staticClass:"playingTip"},[t._v(t._s("Shuffling"))]):t._e():r("div",[t.control.hasStartGame()?r("div",{staticClass:"operate_main"},[t.control.game.isActive()?r("button",{on:{click:function(e){t.control.hit()}}},[t._v(t._s("Hit"))]):t._e(),t.control.game.isActive()?r("button",{on:{click:function(e){t.control.stand()}}},[t._v(t._s("Stand"))]):t._e()]):t._e()])]),r("div",{staticClass:"jack_payout phone_left"},[r("p",[t._v(t._s("Amount"))]),r("p",[t._v(t._s(t.control.game.bet.toString()))])]),r("div",{staticClass:"jack_dot phone_right"},[r("p",[t._v(t._s("Points"))]),r("p",[t._v(t._s(t.control.game.playerPoints))])]),r("div",{staticClass:"youWin"},[t._v("\n                    "+t._s("You Win")+"\n                ")]),r("div",{staticClass:"youLose"},[t._v("\n                    "+t._s("You Lose")+"\n                ")]),r("div",{staticClass:"youNotLose"},[t._v("\n                    "+t._s("Draw")+"\n                ")]),t.control.game.isPlayerBusted()?r("div",{staticClass:"playerBusted"},[r("img",{attrs:{src:n("4605"),alt:""}})]):t._e(),t.control.game.isPlayerBlackjack()?r("div",{staticClass:"playerBlack"},[r("img",{attrs:{src:n("0ad6"),alt:""}})]):t._e()],1),r("div",{staticClass:"inner_btm cl"},[r("div",{staticClass:"amount_right"},[r("p",{staticClass:"label_title"},[t._v(t._s("Amount"))]),r("div",{staticClass:"dice_btm cl"},[r("div",{staticClass:"dice_btm_left cl"},[r("span",{staticClass:"eosLogo"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.control.amount,expression:"control.amount"}],attrs:{type:"number",min:"1"},domProps:{value:t.control.amount},on:{input:function(e){e.target.composing||t.$set(t.control,"amount",e.target.value)}}}),r("button",{on:{click:function(e){t.control.stepAmount(2)}}},[t._v("2x")]),r("button",{on:{click:function(e){t.control.stepAmount(.5)}}},[t._v("1/2")]),r("button",{on:{click:function(e){t.control.setMin()}}},[t._v("Min")]),r("button",{on:{click:function(e){t.control.setMax()}}},[t._v("Max")])]),r("div",{staticClass:"dice_btm_right"},[t.control.canStartNewGame()?r("button",{on:{click:function(e){t.control.startGame()}}},[t._v(t._s("Play"))]):r("button",{staticClass:"btnPlaying",attrs:{disabled:"disabled"}},[t._v(t._s("Play"))])])]),r("p",[r("span",{staticClass:"label_title"},[t._v(t._s("Balance")+": "+t._s(t.control.balance.toString()))]),r("transition",{attrs:{name:"balance-fade"}},[t.balanceEffectVisible&&0!==t.balanceDelta?r("span",{style:t.balanceEffectStyle},[t._v(" "+t._s(t.balanceDelta<0?""+t.balanceDelta:"+"+t.balanceDelta)+" "+t._s("EOS")+" ")]):t._e()])],1)])])])]),r("HistoryTableView",{attrs:{data:t.control.history,loading:t.control.historyLoading}})],1)},Et=[];(function(t){t[t["Spade"]=0]="Spade",t[t["Heart"]=1]="Heart",t[t["Diamond"]=2]="Diamond",t[t["Club"]=3]="Club"})(Rt||(Rt={}));var Bt,Pt,It=function(){function t(){Object(b["a"])(this,t)}return Object(p["a"])(t,null,[{key:"toSymbol",value:function(t){switch(t){case Rt.Spade:return"â ";case Rt.Heart:return"â¥";case Rt.Diamond:return"â¦";case Rt.Club:return"â£";default:throw new Error("Invalid suit")}}}]),t}(),Mt=function(){function t(e){Object(b["a"])(this,t),this.raw=Math.floor(e),this.value=t.getValue(this.raw),this.suit=t.getSuit(this.raw)}return Object(p["a"])(t,[{key:"isAce",value:function(){return 1===this.value}},{key:"isFace",value:function(){return this.value>10}},{key:"getSuitSymbol",value:function(){return It.toSymbol(this.suit)}},{key:"getValueString",value:function(){return t.valueToString(this.value)}},{key:"toString",value:function(){return this.getSuitSymbol()+this.getValueString()}}],[{key:"getSuit",value:function(t){return Math.floor(t/13)%4}},{key:"getValue",value:function(t){return Math.floor(t)%13+1}},{key:"valueToString",value:function(t){return this.CARD_VALUES[(t-1)%13]}}]),t}();Mt.CARD_VALUES=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],Mt.CARDS_PER_DECK=52,Mt.CARDS_PER_SUIT=13,Mt.NUMBER_OF_SUITS=4,function(t){t[t["Unknown"]=0]="Unknown",t[t["Active"]=1]="Active",t[t["Stood"]=2]="Stood",t[t["Close"]=3]="Close"}(Bt||(Bt={})),function(t){t[t["Unknown"]=0]="Unknown",t[t["Surrender"]=1]="Surrender",t[t["Win"]=2]="Win",t[t["Lose"]=3]="Lose",t[t["Push"]=4]="Push"}(Pt||(Pt={}));var Lt=function(){function t(e){Object(b["a"])(this,t),F(e)?(this.id=e.id,this.closeTime=parseInt(e.close_time,10),this.playerCards=e.player_cards.map(function(t){return new Mt(t)}),this.bankerCards=e.banker_cards.map(function(t){return new Mt(t)}),this.player=e.player,this.bet=nt.fromString(e.bet),this.insured=e.insured,this.result=e.result,this.status=e.status,this.bankerPoints=t.calculatePoints(this.bankerCards),this.playerPoints=t.calculatePoints(this.playerCards)):(this.id=0,this.closeTime=0,this.player="",this.playerCards=[],this.bankerCards=[],this.bet=new nt(0,et.EOS),this.insured=!1,this.result=Pt.Unknown,this.status=Bt.Unknown,this.bankerPoints=0,this.playerPoints=0)}return Object(p["a"])(t,[{key:"isBankerBusted",value:function(){return this.bankerPoints>t.MAX_POINTS}},{key:"isPlayerBusted",value:function(){return this.playerPoints>t.MAX_POINTS}},{key:"isBankerBlackjack",value:function(){return this.bankerPoints===t.MAX_POINTS&&2===this.bankerCards.length}},{key:"isPlayerBlackjack",value:function(){return this.playerPoints===t.MAX_POINTS&&2===this.playerCards.length}},{key:"isWin",value:function(){return this.result===Pt.Win}},{key:"isLose",value:function(){return this.result===Pt.Lose}},{key:"isPush",value:function(){return this.result===Pt.Push}}],[{key:"calculatePoints",value:function(t){var e=0,n=0,r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value,u=Math.min(c.value,10);1===c.value&&n++,e+=u}}catch(h){a=!0,i=h}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}for(var l=0;l<n;l++){if(e+10>21)return e;e+=10}return e}}]),t}();Lt.MAX_POINTS=21;var Wt=function(t){function e(t){var n;return Object(b["a"])(this,e),n=Object(m["a"])(this,Object(g["a"])(e).call(this,t)),F(t)?(n.startTime=parseInt(t.start_time,10),n.status=t.status):(n.startTime=0,n.status=Bt.Unknown),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"isActive",value:function(){return this.status===Bt.Active}},{key:"canInsure",value:function(){return this.isActive()&&1===this.bankerCards.length&&this.bankerCards[0].isAce()}},{key:"canDouble",value:function(){return this.isActive()&&2===this.playerCards.length}}]),e}(Lt),Gt=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"games","player",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new Wt(t)}).sort(function(t,e){return e.closeTime-t.closeTime})}}]),e}(Q),Vt=n("a925");function Ut(){var t=sessionStorage.getItem("language");return null===t?navigator.language:t}r["default"].use(Vt["a"]);var Dt,Ht,Ft=new Vt["a"]({locale:Ut(),messages:{"en-US":n("3fab")}}),qt=Ft,Kt=function(t){function e(t){var n;return Object(b["a"])(this,e),n=Object(m["a"])(this,Object(g["a"])(e).call(this,t)),n.payout=t.payout.map(function(t){return nt.fromString(t)}),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getResultString",value:function(){switch(this.result){case Pt.Surrender:return qt.t("bj_result_surrender");case Pt.Lose:return this.playerPoints>Lt.MAX_POINTS?qt.t("bj_result_player_busted"):qt.t("bj_result_banker_win");case Pt.Push:return qt.t("bj_result_push");case Pt.Win:return this.isPlayerBlackjack()?qt.t("bj_result_player_blackjack"):this.bankerPoints>Lt.MAX_POINTS?qt.t("bj_result_banker_busted"):qt.t("bj_result_plaer_win");default:throw new Error("Invalid Game Result")}}},{key:"toString",value:function(){return this.getResultString().toString()+" (".concat(this.playerPoints,":").concat(this.bankerPoints,")")}},{key:"hasEOSPayout",value:function(){return nt.findBySymbol(this.payout,et.EOS.symbol).quantity>0}},{key:"EOSPayoutString",value:function(){return nt.findBySymbol(this.payout,et.EOS.symbol).toString()}}]),e}(Lt),zt=function(t){function e(t,n){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).call(this,t,"history","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new Kt(t)}).sort(function(t,e){return e.closeTime-t.closeTime})}}]),e}(Q);(function(t){t[t["New"]=0]="New",t[t["Hit"]=1]="Hit",t[t["Double"]=2]="Double",t[t["Insure"]=3]="Insure",t[t["Stand"]=4]="Stand",t[t["Surrender"]=5]="Surrender"})(Dt||(Dt={})),function(t){t[t["Active"]=101]="Active"}(Ht||(Ht={}));var $t,Xt=function(t){function e(t){var n;return Object(b["a"])(this,e),n=Object(m["a"])(this,Object(g["a"])(e).call(this,e.CONTRACT,t)),n.globalVarTable=new Z(t,n.name),n.tokensTable=new tt(t,n.name),n.historyTable=new zt(t,n.name),n.gameTable=new Gt(t,n.name),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"init",value:function(){return this.pushAction("init",{})}},{key:"setGlobal",value:function(t,e){return this.pushAction("setglobal",{key:t,value:e})}},{key:"setActive",value:function(t){return this.setGlobal(Ht.Active,t?1:0)}},{key:"play",value:function(t){return this.transfer(t,"new")}},{key:"hit",value:function(){return this.playerAction(Dt.Hit)}},{key:"stand",value:function(){return this.playerAction(Dt.Stand)}},{key:"surrender",value:function(){return this.playerAction(Dt.Surrender)}},{key:"hardClose",value:function(t,e){return this.pushAction("hardClose",{game_id:t,reason:e})}},{key:"close",value:function(t){return this.pushAction("close",{game_id:t})}},{key:"playerAction",value:function(t){return this.pushAction("playeraction",{player:this.accountName(),action:t})}}]),e}(J);Xt.CONTRACT=ut.NETWORK===ot.LOCALHOST?"blackjack":"godappblackj",function(t){t[t["Initializing"]=0]="Initializing",t[t["NotLoading"]=1]="NotLoading",t[t["Shuffling"]=2]="Shuffling",t[t["Standing"]=3]="Standing",t[t["Hitting"]=4]="Hitting"}($t||($t={}));var Yt=function(){function t(e){Object(b["a"])(this,t),this.normalTicker=void 0,this.myGameTicker=void 0,this.balanceTicker=void 0,this.gameGlobals=void 0,this.history=[],this.historyLoading=!0,this.game=new Wt(void 0),this.loadingStatus=$t.Initializing,this.amount=1,this.balance=new nt(0,et.EOS),this.eos=new bt(new _t(ut.NETWORK)),this.blackjack=new Xt(this.eos),this.callback=e}return Object(p["a"])(t,[{key:"initialize",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.startAllTick(),this.startGetMyGame(0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"hasStartGame",value:function(){return this.game.id>0&&this.game.status===Bt.Active}},{key:"destroy",value:function(){this.stopAllTick()}},{key:"loadMyGame",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.eos.loggedIn()){t.next=3;break}throw this.loadingStatus=$t.NotLoading,new Error("Not logged in");case 3:return t.next=5,this.blackjack.gameTable.getById(this.eos.account.name);case 5:if(e=t.sent,!F(e)){t.next=10;break}if((e.status!==this.game.status||e.playerCards.length!==this.game.playerCards.length)&&e.status!==Bt.Stood&&0!==e.playerCards.length){t.next=9;break}throw new Error("Waiting for more game update");case 9:this.game=e;case 10:this.loadingStatus=$t.NotLoading;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadHistory",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.blackjack.historyTable.readAll();case 2:this.history=t.sent,this.historyLoading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"clearMyGameInfo",value:function(){this.game=new Wt(void 0)}},{key:"startGetMyGame",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a=this,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:2e3,n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,z(n)){t.next=6;break}return t.next=6,this.eos.waitUntilImmutable(n);case 6:this.stopGetMyGame(),this.myGameTicker=setTimeout(Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.loadMyGame();case 3:return a.stopGetMyGame(),F(r)&&r(),t.next=7,a.startGetMyBalance();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),a.startGetMyGame(500,"",r);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),e);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"stopGetMyGame",value:function(){null!==this.myGameTicker&&(clearTimeout(this.myGameTicker),this.myGameTicker=null)}},{key:"updateBalance",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.eos.loggedIn()){t.next=6;break}return t.next=3,new Ot(this.eos,this.eos.account.name).getBalance();case 3:this.balance=t.sent,t.next=7;break;case 6:this.balance=new nt(0,et.EOS);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"startGetMyBalance",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.eos.loggedIn()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.stopGetMyBalance(),t.next=6,this.updateBalance();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.balanceTicker=setTimeout(function(){e.startGetMyBalance()},1e3);case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"stopGetMyBalance",value:function(){null!==this.balanceTicker&&(clearTimeout(this.balanceTicker),this.balanceTicker=null)}},{key:"startAllTick",value:function(){var t=this;this.stopAllTick(),this.loadHistory(),this.normalTicker=setTimeout(function(){t.startAllTick()},3e3)}},{key:"stopAllTick",value:function(){null!==this.normalTicker&&(clearTimeout(this.normalTicker),this.normalTicker=null)}},{key:"startGame",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.ensureConnected();case 2:return t.prev=2,this.loadingStatus=$t.Shuffling,t.next=6,this.eos.transfer(this.blackjack.name,new nt(this.amount,et.EOS),"new,");case 6:e=t.sent,this.clearMyGameInfo(),this.startGetMyGame(0,e.id,function(){n.loadingStatus=$t.NotLoading}),this.startGetMyBalance(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),this.loadingStatus=$t.NotLoading;case 15:case"end":return t.stop()}},t,this,[[2,12]])}));return function(){return t.apply(this,arguments)}}()},{key:"hit",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingStatus=$t.Hitting,t.next=4,this.blackjack.hit();case 4:e=t.sent,this.startGetMyGame(0,e.id,function(){n.loadingStatus=$t.NotLoading}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.loadingStatus=$t.NotLoading;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"stand",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingStatus=$t.Standing,t.next=4,this.blackjack.stand();case 4:e=t.sent,this.startGetMyGame(0,e.id,function(){n.loadingStatus=$t.NotLoading}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.loadingStatus=$t.NotLoading;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"insure",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"double",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"isWaitingForAction",value:function(){return this.loadingStatus!==$t.NotLoading}},{key:"isStanding",value:function(){return this.loadingStatus===$t.Standing}},{key:"isHitting",value:function(){return this.loadingStatus===$t.Hitting}},{key:"isShuffling",value:function(){return this.loadingStatus===$t.Shuffling}},{key:"canStartNewGame",value:function(){return this.loadingStatus===$t.NotLoading&&this.game.status!==Bt.Active}},{key:"stepAmount",value:function(t){this.amount=this.amount*t}},{key:"setMin",value:function(){this.amount=.01}},{key:"setMax",value:function(){this.amount=this.balance.quantity}}]),t}(),Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btm_table"},[n("table",{attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v(t._s("Time"))]),n("th",[t._v(t._s("Player"))]),n("th",[t._v(t._s("Bet"))]),n("th",[t._v(t._s("Insurance"))]),n("th",[t._v("PAYOUT")]),n("th",[t._v(t._s("Result"))]),n("th",[t._v(t._s("profit"))])])]),n("tbody",t._l(t.data,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.closeTime.toString()))]),n("td",[t._v(t._s(e.player))]),n("td",[t._v(t._s(e.bet.toString()))]),n("td",[t._v(t._s(e.insured?"Yes":"-"))]),n("td",[t._v(t._s(2)+"x")]),n("td",{class:{award:e.isPlayerBlackjack()}},[t._v(t._s(e.getResultString()))]),n("td",{staticClass:"profit"},[e.hasEOSPayout()?n("div",[t._v("\n                    +"+t._s(e.EOSPayoutString())+"\n                ")]):t._e()])])}))])])},Qt=[],Zt=function(t){function e(){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(j["b"]);Zt=_["a"]([Object(j["a"])({props:{data:{type:Array,required:!0},loading:{type:Boolean,required:!0}},components:{Progress:E,Loading:L}})],Zt);var te=Zt,ee=te,ne=(n("19dd"),Object(s["a"])(ee,Jt,Qt,!1,null,"48af8664",null));ne.options.__file="blackjackHistoryTableView.vue";var re=ne.exports,ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"poker_container cl"},[r("div",{staticClass:"left_poker"},[t.cards.length<1?r("img",{staticClass:"poker_back",attrs:{src:n("9e7d"),width:"100%"}}):r("div",{staticClass:"poker"},[r("div",{staticClass:"right_value"},[t._v(t._s(t.cards[0].getValueString()))]),r("div",{staticClass:"center_value"},[t._v(t._s(t.cards[0].toString()))])])]),r("div",{staticClass:"right_poker"},[t.cards.length<2?r("img",{staticClass:"poker_back",attrs:{src:n("9e7d"),width:"100%"}}):r("div",{staticClass:"playerRightPokers"},t._l(t.cards.slice(1),function(e,n){return r("div",{key:n,staticClass:"poker"},[r("div",{staticClass:"right_value"},[t._v(t._s(e.getValueString()))]),r("div",{staticClass:"center_value"},[t._v(t._s(e.toString()))])])}))])])},ie=[],se=function(t){function e(){return Object(b["a"])(this,e),Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(j["b"]);se=_["a"]([Object(j["a"])({props:{cards:{type:Array,required:!0}}})],se);var oe=se,ce=oe,ue=(n("967a"),Object(s["a"])(ce,ae,ie,!1,null,"f00362be",null));ue.options.__file="cardListView.vue";var le=ue.exports,he=function(t){function e(){var t;return Object(b["a"])(this,e),t=Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.control=new Yt(Object(k["a"])(Object(k["a"])(t))),t.balanceDelta=0,t.balanceTicker=null,t.balanceEffectVisible=!1,t.balanceEffectStyle={color:"green","margin-left":"10 px"},t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"mounted",value:function(){this.control.initialize()}},{key:"beforeDestroy",value:function(){this.control.destroy()}},{key:"startBalanceEffect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;this.stopBalanceEffect(),this.balanceEffectStyle.color=t<0?"red":"green",this.balanceDelta=parseFloat(X(t,4)),this.balanceEffectVisible=!0;var n=this;setTimeout(function(){return n.balanceEffectVisible=!1},e)}},{key:"stopBalanceEffect",value:function(){null!==this.balanceTicker&&(clearTimeout(this.balanceTicker),this.balanceTicker=null)}}]),e}(j["b"]);he=_["a"]([Object(j["a"])({components:{HistoryTableView:re,CardListView:le}})],he);var fe=he,de=fe,ve=(n("1b4e"),Object(s["a"])(de,Nt,Et,!1,null,"011d441c",null));ve.options.__file="blackjack.vue";var be=ve.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("Click the buttons to test corresponding functionality!")]),n("button",{on:{click:t.connect}},[t._v("Connect")]),n("button",{on:{click:t.getTable}},[t._v("Table")]),n("button",{on:{click:t.activate}},[t._v("Activate")]),n("button",{on:{click:t.init}},[t._v("Init")]),n("button",{on:{click:t.close}},[t._v("Close")]),n("div",[t._v(t._s(t.message))])])},me=[],ge=function(t){function e(){var t;return Object(b["a"])(this,e),t=Object(m["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.message="",t.eos=new bt(new _t(ut.NETWORK)),t.contract=new Xt(t.eos),t.active=!1,t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"connect",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.eos.loggedIn()){t.next=5;break}return t.next=3,this.eos.connector.logout();case 3:t.next=8;break;case 5:return t.next=7,this.eos.connector.login();case 7:this.message="Hello "+this.eos.connector.getAccount();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTable",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.contract.gameTable.readAll();case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"activate",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.contract.setActive(!0);case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"init",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.contract.init();case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"hardClose",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.contract.gameTable.getById(this.eos.account.name);case 2:return e=t.sent,t.next=5,this.contract.hardClose(e.id,"");case 5:n=t.sent,this.message=JSON.stringify(n);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"close",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.contract.close(59);case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(j["b"]);ge=_["a"]([j["a"]],ge);var ye=ge,ke=ye,_e=(n("af5a"),Object(s["a"])(ke,pe,me,!1,null,"b1313296",null));_e.options.__file="functionTests.vue";var we=_e.exports;r["default"].use(f["a"]);var Oe=new f["a"]({linkActiveClass:"active",linkExactActiveClass:"active",routes:[{path:"/",name:"Dice",component:At},{path:"/blackjack",name:"Blackjack",component:be},{path:"/test",name:"Test",component:we}]}),je=n("2f62");r["default"].use(je["a"]);var Se=new je["a"].Store({state:{},mutations:{},actions:{}}),Te=n("9483");Object(Te["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["default"].config.productionTip=!1,new r["default"]({router:Oe,store:Se,i18n:qt,render:function(t){return t(h)}}).$mount("#app")},dc63:function(t,e,n){},e58c:function(t,e,n){"use strict";var r=n("dc63"),a=n.n(r);a.a},f18b:function(t,e,n){}});
//# sourceMappingURL=app.1e52e4d5.js.map