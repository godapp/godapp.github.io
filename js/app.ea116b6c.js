(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],h=0,f=[];h<o.length;h++)s=o[h],a[s]&&f.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"06ef":function(t,e,n){},"0748":function(t,e,n){"use strict";var r=n("f18b"),a=n.n(r);a.a},"0ad6":function(t,e,n){t.exports=n.p+"img/blackjack_ret.2395beae.png"},"0cb5":function(t,e,n){"use strict";var r=n("06ef"),a=n.n(r);a.a},"0de0":function(t,e,n){"use strict";var r=n("2f41"),a=n.n(r);a.a},1:function(t,e){},2:function(t,e){},"2f41":function(t,e,n){},3:function(t,e){},4:function(t,e){},4605:function(t,e,n){t.exports=n.p+"img/busted_ret.4c7e175e.png"},"498b":function(t,e,n){},"52a9":function(t,e,n){"use strict";var r=n("d1c4"),a=n.n(r);a.a},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5c3f":function(t,e,n){"use strict";var r=n("92ab"),a=n.n(r);a.a},"5d92":function(t,e,n){},"5e27":function(t,e,n){},"92ab":function(t,e,n){},"9e7d":function(t,e,n){t.exports=n.p+"img/jack_back.c3770e61.png"},c5c8:function(t,e,n){"use strict";var r=n("5d92"),a=n.n(r);a.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=(n("5c0b"),n("2877")),o={},c=Object(s["a"])(o,a,i,!1,null,null,null);c.options.__file="App.vue";var u,l,h=c.exports,f=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"dice_container"},[n("div",{staticClass:"dice_topWrap"},[n("div",{staticClass:"dice_topContainer"},[n("div",{staticClass:"dice_topBox"},[n("div",{staticClass:"dice_top"},[n("div",{staticClass:"numberBox"},[n("div",{staticClass:"number_left"},[n("p",{staticClass:"largeNum"},[t._v(t._s(t.control.betNumber))]),n("p",{staticClass:"num_desc"},[t._v(t._s("Predict"))])]),n("div",{staticClass:"number_right"},[n("p",{ref:"rollResult",staticClass:"largeNum",style:t.rollStyle},[t._v(t._s(t.control.rollValue))]),n("p",{staticClass:"num_desc"},[t._v(t._s("Result"))])])]),n("div",{staticClass:"slideBox"},[n("button",{ref:"handleUnder",staticClass:"switchBtn",class:t.control.isRollUnder?"active":"",on:{click:function(e){t.control.handleUnder()}}},[t._v(t._s("ROLL UNDER")+"\n                            ")]),t.control.isRollUnder()?n("div",{staticClass:"slideWrap"},[n("span",{staticClass:"startNum"},[t._v("0")]),n("span",{staticClass:"endNum"},[t._v("99")]),n("div",{staticClass:"triangle_right"}),n("vue-slider",t._b({ref:"underSlide",staticClass:"rollSlide",model:{value:t.control.betNumber,callback:function(e){t.$set(t.control,"betNumber",e)},expression:"control.betNumber"}},"vue-slider",t.underSlide,!1))],1):n("div",{staticClass:"slideWrap"},[n("span",{staticClass:"startNum"},[t._v("0")]),n("span",{staticClass:"endNum"},[t._v("99")]),n("div",{staticClass:"triangle_left"}),n("div",{staticClass:"triangle_right"}),n("vue-slider",t._b({ref:"overSlide",staticClass:"rollSlide",model:{value:t.control.betNumber,callback:function(e){t.$set(t.control,"betNumber",e)},expression:"control.betNumber"}},"vue-slider",t.overSlide,!1))],1),n("button",{ref:"handleOver",staticClass:"switchBtn",class:t.control.isRollUnder()?"":"active",on:{click:function(e){t.control.handleOver()}}},[t._v(t._s("ROLL OVER")+"\n                            ")])])]),n("div",{staticClass:"dice_center"},[n("div",[n("p",[t._v(t._s("Payout"))]),n("p",[t._v(t._s(t.control.curOdds())+"x")])]),n("div",[n("p",[t._v(t._s("Profit on Win"))]),n("p",[t._v(t._s(t.control.curProfit())+" "+t._s("EOS"))])]),n("div",[n("p",[t._v(t._s("Win Chance"))]),n("p",[t._v(t._s(t.control.curWinChance())+"%")])])]),n("BetView",{attrs:{control:t.control.betControl}})],1)])]),n("HistoryTableView",{attrs:{data:t.control.allData,loading:t.control.allTableLoading}})],1)])},b=[],d=n("d4ec"),p=n("bee2"),m=n("99de"),k=n("7e84"),y=n("262e"),g=n("9ab4"),_=n("6f79"),w=n.n(_),O=n("60a3"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableBox"},[n("table",{attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v(t._s("Time"))]),n("th",[t._v(t._s("Player"))]),n("th",{staticClass:"hidden-xs"},[t._v(t._s("Predict"))]),n("th",[t._v(t._s("Bet"))]),n("th",{staticClass:"hidden-xs"},[t._v(t._s("Payout"))]),n("th",[t._v(t._s("Profit"))])])]),n("tbody",t._l(t.data,function(e){return n("tr",{key:e.id,class:{win:e.iswin?"win":"",newItem:e.isNew?"newItem":""}},[n("td",[t._v(t._s(e.timestamp.toString()))]),n("td",[t._v(t._s(e.player))]),n("td",{staticClass:"hidden-xs"},[n("div",[e.isRollOver?n("p",{staticClass:"predict"},[t._v(t._s("Higher Than")+" "+t._s(e.betNumber))]):n("p",{staticClass:"predict"},[t._v(t._s("Lower Than")+" "+t._s(e.betNumber))]),n("Progress",{attrs:{betNum:e.betNumber,rollNum:e.rollNumber,isWin:e.isWin,ismore:e.isRollOver}})],1)]),n("td",[t._v(t._s(e.betAmount.toString()))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.payout.toString()))]),n("td",{staticClass:"profit"},[e.isWin?n("div",{staticClass:"win_color"},[t._v("\n                    + "+t._s(e.profit.toString())+"\n                ")]):n("div")])])}))])])},T=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progressContainer",class:{win:t.isWin?"win":""}},[t.ismore?n("div",{staticClass:"progressItem",style:{width:100-t.betNum+"%",right:"0%"}}):n("div",{staticClass:"progressItem",style:{width:t.betNum+"%",left:"0%"}}),n("div",{staticClass:"rollNum",style:{left:t.rollNum-1+"%"}},[t._v(t._s(t.rollNum))])])},S=[],x=(n("c5f6"),u=Object(O["a"])({props:{betNum:{type:Number,requied:!0},rollNum:{type:Number,requied:!0},ismore:{type:Boolean,requied:!0},isWin:{type:Boolean,requied:!0}}}),u(l=function(t){function e(){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(O["b"]))||l),B=x,R=(n("e58c"),Object(s["a"])(B,C,S,!1,null,"d1aad53a",null));R.options.__file="progress.vue";var P=R.exports,A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"bounce1"}),n("div",{staticClass:"bounce2"}),n("div",{staticClass:"bounce3"})])}],I=(n("5c3f"),{}),E=Object(s["a"])(I,A,N,!1,null,"b50b2b44",null);E.options.__file="loading.vue";var M=E.exports,L=function(t){function e(){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(O["b"]);L=g["a"]([Object(O["a"])({props:{data:{type:Array,required:!0},loading:{type:Boolean,required:!0}},components:{Progress:P,Loading:M}})],L);var W=L,U=W,G=Object(s["a"])(U,j,T,!1,null,null,null);G.options.__file="diceHistoryTableView.vue";var V=G.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner_btm cl"},[n("div",{staticClass:"amount_right"},[n("p",{staticClass:"label_title"},[t._v(t._s("Amount"))]),n("div",{staticClass:"btm_box cl"},[n("div",{staticClass:"btm_left cl"},[n("span",{staticClass:"eosLogo"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.control.amount,expression:"control.amount"}],attrs:{type:"number",min:"1"},domProps:{value:t.control.amount},on:{input:function(e){e.target.composing||t.$set(t.control,"amount",e.target.value)}}}),n("button",{on:{click:function(e){t.control.stepAmount(2)}}},[t._v("2x")]),n("button",{on:{click:function(e){t.control.stepAmount(.5)}}},[t._v("1/2")]),n("button",{on:{click:function(e){t.control.setMin()}}},[t._v("Min")]),n("button",{on:{click:function(e){t.control.setMax()}}},[t._v("Max")])]),n("div",{staticClass:"btm_right"},[t.control.canMakeBet()?n("button",{on:{click:function(e){t.control.makeBet()}}},[t._v(t._s(t.control.betText()))]):n("button",{staticClass:"btnPlaying",attrs:{disabled:"disabled"}},[t._v(t._s(t.control.betText()))])])]),n("p",[n("span",{staticClass:"label_title"},[t._v(t._s("Balance")+": "+t._s(t.control.balance.toString()))]),n("transition",{attrs:{name:"balance-fade"}},[t.balanceEffectVisible&&0!==t.balanceDelta?n("span",{style:t.balanceEffectStyle},[t._v(" "+t._s(t.balanceDelta<0?""+t.balanceDelta:"+"+t.balanceDelta)+" "+t._s("EOS")+" ")]):t._e()])],1)])])},H=[],F=(n("7f7f"),n("96cf"),n("1da1")),q=(n("20d6"),n("28a5"),n("5df3"),n("f400"),n("6b54"),n("ac4d"),n("8a81"),n("ac6a"),n("53ca"));function K(t){return null!=t}function z(t){return null==t}function $(t){return Object(q["a"])(t)===Object(q["a"])(!0)}function Y(t){return z(t)||0===t.length}function X(t,e){var n=Math.pow(10,e);return(Math.floor(t*n)/n).toFixed(e)}var J=function(){function t(e,n,r){Object(d["a"])(this,t),this.symbol=e,this.contract=n,this.precision=r,this.baseUnit=Math.pow(10,r)}return Object(p["a"])(t,[{key:"toString",value:function(){return this.precision+","+this.symbol}}],[{key:"initialize",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=this.ALL_TOKENS[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.TOKEN_CONTRACT_MAP.set(i.contract,i),this.TOKEN_SYMBOL_MAP.set(i.symbol,i),this.TOKEN_SYMBOL_MAP.set(i.toString(),i)}}catch(s){e=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}this.TOKEN_SYMBOL_MAP.set("",this.NONE)}},{key:"fromSymbol",value:function(t){var e=this.TOKEN_SYMBOL_MAP.get(t);if(z(e))throw new Error("Token does not exist for symbol "+t);return e}},{key:"fromContract",value:function(t){var e=this.TOKEN_CONTRACT_MAP.get(t);if(z(e))throw new Error("Token does not exist for contract "+t);return e}}]),t}();J.EOS=new J("EOS","eosio.token",4),J.NONE=new J("","",0),J.ALL_TOKENS=[J.EOS],J.TOKEN_CONTRACT_MAP=new Map,J.TOKEN_SYMBOL_MAP=new Map,J.initialize();var Q=function(){function t(e,n){Object(d["a"])(this,t),this.quantity=e,this.token=n}return Object(p["a"])(t,[{key:"toString",value:function(){return X(this.quantity,this.token.precision)+" "+this.token.symbol}},{key:"add",value:function(e){return new t(this.quantity+e,this.token)}},{key:"minus",value:function(e){return new t(this.quantity-e,this.token)}}],[{key:"fromRawAmount",value:function(e,n){return new t(e/n.baseUnit,n)}},{key:"fromString",value:function(e){var n=e.split(" ");if(2!==n.length)throw new Error("Wrong asset format");var r=J.fromSymbol(n[1]);return new t(parseFloat(n[0]),r)}},{key:"findBySymbol",value:function(e,n){var r=e.findIndex(function(t){return t.token.symbol===n});return r<0?new t(0,J.fromSymbol(n)):e[r]}}]),t}(),Z=(n("4f7f"),function(){function t(e,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a;Object(d["a"])(this,t),this.eos=e,this.name=n,this.key=r,this.code=a,this.scope=i}return Object(p["a"])(t,[{key:"readAll",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,s,o,c,u,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new Set,n=[],r={},a="";case 4:return t.next=6,this.eos.getTableRows(this,500,a);case 6:for(r=t.sent,i=!0,s=!1,o=void 0,t.prev=10,c=r.rows[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)l=u.value,a=l[this.key],e.has(a)||(e.add(a),n.push(l));t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),s=!0,o=t.t0;case 18:t.prev=18,t.prev=19,i||null==c.return||c.return();case 21:if(t.prev=21,!s){t.next=24;break}throw o;case 24:return t.finish(21);case 25:return t.finish(18);case 26:if(r.more){t.next=4;break}case 27:return t.abrupt("return",this.convert(n));case 28:case"end":return t.stop()}},t,this,[[10,14,18,26],[19,,21,25]])}));return function(){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.getTableRows(this,n,e);case 2:return r=t.sent,t.abrupt("return",this.convert(r.rows));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.getTableRows(this,1,e);case 2:if(n=t.sent,!(n.rows.length>0)){t.next=7;break}if(r=n.rows[0],r[this.key]!==e){t.next=7;break}return t.abrupt("return",this.convert(n.rows)[0]);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"convert",value:function(t){return t}}]),t}()),tt=function(){function t(e,n){Object(d["a"])(this,t),this.name=e,this.eos=n}return Object(p["a"])(t,[{key:"accountName",value:function(){return this.eos.account.name}},{key:"pushAction",value:function(t,e){return this.eos.call(this.name,t,e)}},{key:"transfer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.eos.transfer(this.name,t,e)}}]),t}(),et=function(t){function e(t,n,r){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"accounts","currency",n,r))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getCurrency",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.read(e.symbol,1);case 2:if(n=t.sent,0!==n.length){t.next=7;break}return t.abrupt("return",new Q(0,e));case 7:return t.abrupt("return",Q.fromString(n[0].balance));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(Z),nt=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,J.EOS.contract,n instanceof tt?n.name:n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getBalance",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCurrency(J.EOS));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(et),rt=function(){function t(e,n){Object(d["a"])(this,t),this.eos=e,this.betCallback=n,this.ticker=void 0,this.amount=1,this.balance=new Q(0,J.EOS),this.effectCallback=void 0,this.isBetting=!1}return Object(p["a"])(t,[{key:"setEffectCallback",value:function(t){this.effectCallback=t}},{key:"makeBet",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.ensureConnected();case 2:return this.isBetting=!0,t.prev=3,t.next=6,this.updateBalance();case 6:return t.next=8,this.betCallback.makeBet(this.amount);case 8:K(this.effectCallback)&&(e=-this.amount,this.effectCallback.startBalanceEffect(e,1e3),this.balance=this.balance.add(e)),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),this.isBetting=!1,alert("Bet failed, make sure you have signed in to scatter and approved the transaction.");case 15:case"end":return t.stop()}},t,this,[[3,11]])}));return function(){return t.apply(this,arguments)}}()},{key:"finishBet",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isBetting=!1,t.next=3,this.updateBalance();case 3:K(this.effectCallback)&&e>0&&this.effectCallback.startBalanceEffect(e);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"updateBalance",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.eos.loggedIn()){t.next=6;break}return t.next=3,new nt(this.eos,this.eos.account.name).getBalance();case 3:this.balance=t.sent,t.next=7;break;case 6:this.balance=new Q(0,J.EOS);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"startUpdate",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.eos.loggedIn()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.stopUpdate(),t.next=6,this.updateBalance();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.ticker=setTimeout(function(){e.startUpdate()},1e3);case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"stopUpdate",value:function(){null!==this.ticker&&(clearTimeout(this.ticker),this.ticker=null)}},{key:"getBetAsset",value:function(){return new Q(this.amount,J.EOS)}},{key:"canMakeBet",value:function(){return!this.isBetting&&this.betCallback.canMakeBet()}},{key:"betText",value:function(){return this.betCallback.betText()}},{key:"stepAmount",value:function(t){this.amount=this.amount*t}},{key:"setMin",value:function(){this.amount=.01}},{key:"setMax",value:function(){this.amount=this.balance.quantity}}]),t}(),at=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments)),t.balanceDelta=0,t.balanceTicker=null,t.balanceEffectVisible=!1,t.balanceEffectStyle={color:"green","margin-left":"10 px"},t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getControl",value:function(){return this.control}},{key:"mounted",value:function(){this.getControl().setEffectCallback(this)}},{key:"startBalanceEffect",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;this.stopBalanceEffect(),this.balanceEffectStyle.color=t<0?"red":"green",this.balanceDelta=parseFloat(X(t,4)),this.balanceEffectVisible=!0,setTimeout(function(){e.balanceEffectVisible=!1},n)}},{key:"stopBalanceEffect",value:function(){null!==this.balanceTicker&&(clearTimeout(this.balanceTicker),this.balanceTicker=null)}}]),e}(O["b"]);at=g["a"]([Object(O["a"])({props:{control:{type:rt,required:!0}}})],at);var it=at,st=it,ot=(n("e226"),Object(s["a"])(st,D,H,!1,null,"33fff485",null));ot.options.__file="betView.vue";var ct=ot.exports,ut=(n("55dd"),function(){function t(){Object(d["a"])(this,t)}return Object(p["a"])(t,null,[{key:"initialize",value:function(){0===new Date("1970-01-01T00:00:00").getTime()?this.ISO_SUFFIX="":0===new Date("1970-01-01T00:00:00-0000").getTime()&&(this.ISO_SUFFIX="-0000")}},{key:"toISOTimestamp",value:function(t){return new Date(t+this.ISO_SUFFIX).getTime()/1e3}}]),t}());ut.ISO_SUFFIX="",ut.initialize();var lt=function(){function t(e){Object(d["a"])(this,t),this.str=e,Y(e)?this.value=0:this.value=ut.toISOTimestamp(e)}return Object(p["a"])(t,[{key:"toString",value:function(){return this.str}}]),t}(),ht=function(){function t(e){Object(d["a"])(this,t);var n=J.fromSymbol(e.sym);this.id=e.id,this.betId=e.bet_id,this.player=e.player,this.betNumber=e.bet_value,this.rollNumber=e.roll_value,this.rollMode=e.roll_type,this.betAmount=Q.fromRawAmount(e.bet,n),this.payout=Q.fromRawAmount(e.payout,n),this.timestamp=new lt(e.time),this.profit=this.isWin?this.payout.minus(this.betAmount.quantity):new Q(0,J.EOS)}return Object(p["a"])(t,[{key:"isRollOver",get:function(){return this.rollMode===dt.Over}},{key:"isWin",get:function(){return 0!==this.payout.quantity}}]),t}(),ft=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"history","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new ht(t)}).sort(function(t,e){return e.timestamp.value-t.timestamp.value})}}]),e}(Z),vt=function t(e,n,r,a,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"eos";Object(d["a"])(this,t),this.host=e,this.port=n,this.network=r,this.protocol=a,this.chainId=i,this.blockchain=s};vt.MAINNET=new vt("eos.greymass.com",443,"mainnet","https","aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"),vt.LOCALHOST=new vt("127.0.0.1",8888,"testnet","http","cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f"),vt.KYLIN=new vt("api-kylin.eosasia.one",443,"testnet","https","5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191");var bt=function t(){Object(d["a"])(this,t)};bt.NETWORK=vt.KYLIN;var dt,pt=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"globals","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t}}]),e}(Z),mt=function(t){function e(t,n,r){var a;return Object(d["a"])(this,e),a=Object(m["a"])(this,Object(k["a"])(e).call(this,t,n.eos)),a.house=n,a.id=r,a.tokens=n.makeTokenTable(a.name),a.players=n.makePlayerTable(a.name),a.globals=new pt(n.eos,a.name),a}return Object(y["a"])(e,t),e}(tt);(function(t){t[t["Under"]=1]="Under",t[t["Over"]=2]="Over"})(dt||(dt={}));var kt=function(t){function e(t){var n;return Object(d["a"])(this,e),n=Object(m["a"])(this,Object(k["a"])(e).call(this,e.CONTRACT,t,e.ID)),n.historyTable=new ft(t.eos,n.name),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"play",value:function(t,e,n){return this.house.transfer(n,"".concat(this.id,",").concat(t,",").concat(e,",",","))}}]),e}(mt);kt.CONTRACT=bt.NETWORK===vt.LOCALHOST?"dice":"godappdice12",kt.ID=1;var yt=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"tokens","sym",n,r))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t}}]),e}(Z),gt=function t(e){Object(d["a"])(this,t),this.name=e.name,this.in=new Q(e.in,J.EOS),this.out=new Q(e.out,J.EOS),this.playTimes=e.play_times,this.lastPlayTime=e.last_play_time,this.eventIn=new Q(e.event_in,J.EOS)},_t=function(t){function e(t,n,r){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"players","name",n,r))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new gt(t)}).sort(function(t,e){return t.eventIn.quantity-e.eventIn.quantity})}}]),e}(Z),wt=function(t){function e(t){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,e.CONTRACT,t))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"makeTokenTable",value:function(t){return new yt(this.eos,this.name,t)}},{key:"makePlayerTable",value:function(t){return new _t(this.eos,this.name,t)}},{key:"addGame",value:function(t,e){return this.pushAction("addgame",{game:t,id:e})}},{key:"updateToken",value:function(t,e,n,r,a,i){return this.pushAction("updatetoken",{game:t,token:e.symbol,contract:n,min:r,max:a,balance:i})}}]),e}(tt);wt.CONTRACT=bt.NETWORK===vt.LOCALHOST?"house":"godapphouse1";var Ot=function(){function t(e){Object(d["a"])(this,t),this.eos=e,this.betNumber=49,this.allBetTicker=null,this.betInfoTicker=null,this.contractTicker=null,this.globalTicker=null,this.rollAnimationTicker=null,this.allTableLoading=!0,this.rollValue="00",this.pendingRollValue=0,this.curBetId=0,this.activeIndex=0,this.rollMode=dt.Under,this.rollReal="",this.showedBetIds={},this.betAccountBalance=new Q(1e4,J.EOS),this.valueRoll=50,this.allData=[],this.rollStartTime=0,this.betControl=new rt(this.eos,this),this.dice=new kt(new wt(this.eos))}return Object(p["a"])(t,[{key:"isLoggedIn",value:function(){return this.eos.loggedIn()}},{key:"isRollUnder",value:function(){return this.rollMode===dt.Under}},{key:"curOdds",value:function(){return(98/this.curWinChance()).toFixed(2)}},{key:"curProfit",value:function(){return(this.betControl.amount*(98/this.curWinChance())).toFixed(2)}},{key:"curWinChance",value:function(){return this.getWinChance(this.rollMode,this.betNumber)}},{key:"initialize",value:function(){this.updateContractBalance(),this.startTicker()}},{key:"destroy",value:function(){this.stopTicker()}},{key:"handleOver",value:function(){this.rollMode=dt.Over}},{key:"handleUnder",value:function(){this.rollMode=dt.Under}},{key:"getWinChance",value:function(t,e){return t===dt.Under?e:99-e}},{key:"getOdds",value:function(t,e){return 98/this.getWinChance(t,e)}},{key:"startTicker",value:function(){var t=this;this.stopTicker(),this.allBetTicker=setInterval(function(){t.updateAllBetTable()},5e3)}},{key:"stopTicker",value:function(){null!==this.allBetTicker&&(clearInterval(this.allBetTicker),this.allBetTicker=null),null!==this.contractTicker&&(clearInterval(this.contractTicker),this.contractTicker=null),null!==this.globalTicker&&(clearInterval(this.globalTicker),this.globalTicker=null)}},{key:"updateContractBalance",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new nt(this.eos,this.dice).getBalance();case 2:this.betAccountBalance=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTimeStamp",value:function(){var t=new Date;return Math.floor(t.getTime()/1e3)}},{key:"updateAllBetTable",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.historyTable.readAll();case 2:this.allData=t.sent,this.allTableLoading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRollValueFromTrans",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.eos.getTransaction(e);case 3:if(r=t.sent,a=r.block_num,1!==n){t.next=9;break}this.pendingRollValue=a,t.next=12;break;case 9:if(this.pendingRollValue===a){t.next=12;break}return this.getRollValueFromTrans(e,1),t.abrupt("return");case 12:if(i=this.getTimeStamp(),!(n>=3||i-this.rollStartTime>=5)){t.next=20;break}if(s=this.getRollValueFromTable(this.rollStartTime),!K(s)){t.next=20;break}return o=s.rollNumber,this.rollValue=o<10?"0"+o:o.toString(10),this.betControl.finishBet(s.profit.quantity),t.abrupt("return");case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.log(t.t0);case 25:setTimeout(function(){c.getRollValueFromTrans(e,n+1)},1e3);case 26:case"end":return t.stop()}},t,this,[[0,22]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRollValueFromTable",value:function(t){var e=this.eos.account.name,n=!0,r=!1,a=void 0;try{for(var i,s=this.allData[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;if(o.player===e&&o.timestamp.value>=t)return o}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}},{key:"betText",value:function(){return(this.isRollUnder()?"Roll Under ":"Roll Over ")+this.betNumber}},{key:"makeBet",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.play(this.rollMode,this.betNumber,new Q(e,J.EOS));case 2:n=t.sent,this.rollStartTime=this.getTimeStamp(),this.getRollValueFromTrans(n.id,1);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"canMakeBet",value:function(){return!0}}]),t}(),jt=n("d3b7"),Tt=n.n(jt),Ct=function t(e){Object(d["a"])(this,t),this.id=e.transaction_id,this.blockNumber=e.processed.block_num,this.executed="executed"===e.processed.receipt.status},St=function(){function t(){Object(d["a"])(this,t)}return Object(p["a"])(t,null,[{key:"make",value:function(t){return new Promise(function(e){return e(t)})}},{key:"delay",value:function(t){return new Promise(function(e){setTimeout(function(){return e()},t)})}},{key:"delayUntil",value:function(t,e){return Promise.all([t,this.delay(e)]).then(function(t){return t[0]})}}]),t}(),xt=n("76b0"),Bt=n.n(xt),Rt=n("876a"),Pt=n.n(Rt),At=function(){function t(e,n){Object(d["a"])(this,t),this.name=e,this.authority=n,this.blockchain="eos"}return Object(p["a"])(t,[{key:"toString",value:function(){return this.name+"@"+this.authority}}]),t}(),Nt=function(){function t(e){var n=this;Object(d["a"])(this,t),this.network=e,Bt.a.plugins(new Pt.a);var r=this;Bt.a.scatter.connect("GoDapp").then(function(t){return!!t&&(r.scatter=Bt.a.scatter,r.eos=r.scatter.eos(e,Tt.a,{}),window.ScatterJS=null,n.login(),!0)})}return Object(p["a"])(t,[{key:"login",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.initialized){t.next=2;break}throw new Error("Scatter plugin has not been initialized");case 2:return t.abrupt("return",this.scatter.getIdentity({accounts:[this.network]}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loggedIn){t.next=2;break}return t.abrupt("return",this.scatter.forgetIdentity());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAccount",value:function(){if(this.loggedIn){var t=!0,e=!1,n=void 0;try{for(var r,a=this.scatter.identity.accounts[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if("eos"===i.blockchain)return new At(i.name,i.authority)}}catch(s){e=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}}throw new Error("No account found, make sure you have logged into a wallet")}},{key:"initialized",get:function(){return K(this.scatter)}},{key:"loggedIn",get:function(){return this.initialized&&K(this.scatter.identity)}}]),t}(),It=function(){function t(e){Object(d["a"])(this,t),this.connector=e;var n=e.network;this.eos=Tt()({chainId:n.chainId,httpEndpoint:"".concat(n.protocol,"://").concat(n.host,":").concat(n.port),expireInSeconds:60,broadcast:!0,verbose:!1,sign:!0})}return Object(p["a"])(t,[{key:"loggedIn",value:function(){return this.connector.loggedIn}},{key:"connect",value:function(){return this.connector.login()}},{key:"getTableRows",value:function(t,e,n){return this.eos.getTableRows({scope:t.scope,code:t.code,table:t.name,json:!0,limit:e,lower_bound:n})}},{key:"call",value:function(){var e=Object(F["a"])(regeneratorRuntime.mark(function e(n,r,a){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ensureConnected();case 2:return i=this.connector.getAccount(),e.next=5,this.connector.eos.transaction({actions:[{account:n,name:r,authorization:[{actor:i.name,permission:i.authority}],data:t.processType(a)}]});case 5:return s=e.sent,e.abrupt("return",new Ct(s));case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transfer",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"",t.next=3,this.ensureConnected();case 3:return a=this.connector.getAccount(),t.abrupt("return",this.call(n.token.contract,"transfer",{from:a.name,to:e,quantity:n.toString(),memo:r}));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(t){return this.eos.getTransaction(t)}},{key:"ensureConnected",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loggedIn()){t.next=3;break}return t.next=3,this.connector.login();case 3:if(this.loggedIn()){t.next=5;break}throw new Error("Can not login to EOS network, user not logged in");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"waitUntilImmutable",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=3,t.prev=2;case 3:if(!(r>0)){t.next=13;break}return t.next=6,this.eos.getTransaction(e);case 6:return a=t.sent,n=0===n?a.block_num:n,n!==a.block_num?(n=0,r=3):r-=1,t.next=11,St.delay(500);case 11:t.next=3;break;case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t["catch"](2),t.abrupt("return",this.waitUntilImmutable(e));case 18:case"end":return t.stop()}},t,this,[[2,15]])}));return function(e){return t.apply(this,arguments)}}()},{key:"account",get:function(){return this.connector.getAccount()}}],[{key:"processType",value:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];$(n)&&(t[e]=!0===n?1:0)}return t}}]),t}();It.instance=new It(new Nt(bt.NETWORK));var Et=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments)),t.control=new Ot(It.instance),t.underSlide={roll:t.control.betNumber,height:12,dotWidth:20,dotHeight:24,min:2,max:97,speed:.1,tooltip:"hover",bgStyle:{backgroundColor:"transparent",border:"1px solid #938282"},tooltipStyle:{backgroundColor:"#666",borderColor:"#666"},processStyle:{backgroundColor:"#0DD985",margin:"-1px",height:"12px"}},t.overSlide={roll:t.control.betNumber,height:12,dotWidth:20,dotHeight:24,min:2,max:97,speed:.1,tooltip:"hover",bgStyle:{backgroundColor:"#0DD985",marginTop:"0px",height:"12px"},tooltipStyle:{backgroundColor:"#666",borderColor:"#666"},processStyle:{backgroundColor:"#230304",border:"1px solid #938282",boxShadow:"0 0 20px #230304"}},t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"mounted",value:function(){this.control.initialize()}},{key:"beforeDestroy",value:function(){this.control.destroy()}},{key:"rollStyle",get:function(){return this.control.isRollUnder?parseInt(this.control.rollValue,10)<this.control.betNumber?{color:"#0dd985"}:{color:"#9f0000"}:parseInt(this.control.rollValue,10)>this.control.betNumber?{color:"#0dd985"}:{color:"#9f0000"}}},{key:"top",get:function(){return 45*-this.control.activeIndex+"px"}},{key:"transition",get:function(){return 0===this.control.activeIndex?"none":"top 0.5s"}}]),e}(O["b"]);Et=g["a"]([Object(O["a"])({components:{HistoryTableView:V,vueSlider:w.a,Loading:M,BetView:ct}})],Et);var Mt=Et,Lt=Mt,Wt=(n("0748"),Object(s["a"])(Lt,v,b,!1,null,null,null));Wt.options.__file="dice.vue";var Ut=Wt.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"top_wrap"},[n("div",{staticClass:"top_box"},[n("div",{staticClass:"inner_top"},[n("div",{staticClass:"jack_name"},[t._v(t._s("Baccarat"))]),n("CardListView",{attrs:{cards:t.control.game.bankerCards}}),n("div",{staticClass:"jack_dot"},[n("p",[t._v(t._s("Banker Points"))]),n("p",[t._v(t._s(t.control.game.bankerPoints))])])],1),n("div",{staticClass:"inner_center"},[n("div",{staticClass:"jack_name"},[t._v(t._s("Player"))]),n("CardListView",{attrs:{cards:t.control.game.playerCards}}),n("div",{staticClass:"jack_dot phone_right"},[n("p",[t._v(t._s("Player Points"))]),n("p",[t._v(t._s(t.control.game.playerPoints))])])],1),n("p",{staticClass:"playingTip"},[t._v(t._s(t.control.message))]),t._l(t.betButtons,function(e){return n("button",{key:e.betType,ref:"bankerWin",refInFor:!0,staticClass:"switchBtn",class:t.control.betType===e.betType?"active":"",on:{click:function(n){t.control.setBetType(e.betType)}}},[t._v(t._s(e.title)+"\n            ")])}),n("BetView",{attrs:{control:t.control.betControl}})],2)]),n("BaccaratBetView",{attrs:{data:t.control.bets,loading:!1}})],1)},Vt=[],Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"poker_container cl"},[r("div",{staticClass:"left_poker"},[t.cards.length<1?r("img",{staticClass:"poker_back",attrs:{src:n("9e7d"),width:"100%"}}):r("div",{staticClass:"poker"},[r("div",{staticClass:"right_value"},[t._v(t._s(t.cards[0].getValueString()))]),r("div",{staticClass:"center_value"},[t._v(t._s(t.cards[0].toString()))])])]),r("div",{staticClass:"right_poker"},[t.cards.length<2?r("img",{staticClass:"poker_back",attrs:{src:n("9e7d"),width:"100%"}}):r("div",{staticClass:"playerRightPokers"},t._l(t.cards.slice(1),function(e,n){return r("div",{key:n,staticClass:"poker"},[r("div",{staticClass:"right_value"},[t._v(t._s(e.getValueString()))]),r("div",{staticClass:"center_value"},[t._v(t._s(e.toString()))])])}))])])},Ht=[],Ft=function(t){function e(){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(O["b"]);Ft=g["a"]([Object(O["a"])({props:{cards:{type:Array,required:!0}}})],Ft);var qt=Ft,Kt=qt,zt=(n("0de0"),Object(s["a"])(Kt,Dt,Ht,!1,null,"a2e18928",null));zt.options.__file="cardListView.vue";var $t=zt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btm_table"},[n("table",{attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v(t._s("Player"))]),n("th",[t._v(t._s("Bet Type"))]),n("th",[t._v(t._s("Bet"))])])]),n("tbody",t._l(t.data,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.player))]),n("td",[t._v(t._s(e.getBetType()))]),n("td",[t._v(t._s(e.bet.toString()))])])}))])])},Xt=[],Jt=function(t){function e(){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(O["b"]);Jt=g["a"]([Object(O["a"])({props:{data:{type:Array,required:!0},loading:{type:Boolean,required:!0}},components:{Progress:P,Loading:M}})],Jt);var Qt=Jt,Zt=Qt,te=(n("f8b1"),Object(s["a"])(Zt,Yt,Xt,!1,null,"5832fdc2",null));te.options.__file="baccaratBetView.vue";var ee,ne=te.exports;(function(t){t[t["Spade"]=0]="Spade",t[t["Heart"]=1]="Heart",t[t["Diamond"]=2]="Diamond",t[t["Club"]=3]="Club"})(ee||(ee={}));var re,ae,ie=function(){function t(){Object(d["a"])(this,t)}return Object(p["a"])(t,null,[{key:"toSymbol",value:function(t){switch(t){case ee.Spade:return"♠";case ee.Heart:return"♥";case ee.Diamond:return"♦";case ee.Club:return"♣";default:throw new Error("Invalid suit")}}}]),t}(),se=function(){function t(e){Object(d["a"])(this,t),this.raw=Math.floor(e),this.value=t.getValue(this.raw),this.suit=t.getSuit(this.raw)}return Object(p["a"])(t,[{key:"isAce",value:function(){return 1===this.value}},{key:"isFace",value:function(){return this.value>10}},{key:"getSuitSymbol",value:function(){return ie.toSymbol(this.suit)}},{key:"getValueString",value:function(){return t.valueToString(this.value)}},{key:"toString",value:function(){return this.getSuitSymbol()+this.getValueString()}}],[{key:"getSuit",value:function(t){return Math.floor(t/13)%4}},{key:"getValue",value:function(t){return Math.floor(t)%13+1}},{key:"valueToString",value:function(t){return this.CARD_VALUES[(t-1)%13]}}]),t}();se.CARD_VALUES=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],se.CARDS_PER_DECK=52,se.CARDS_PER_SUIT=13,se.NUMBER_OF_SUITS=4,function(t){t[t["Unknown"]=0]="Unknown",t[t["BankerWin"]=1]="BankerWin",t[t["PlayerWin"]=2]="PlayerWin",t[t["Tie"]=4]="Tie",t[t["BankerPair"]=8]="BankerPair",t[t["PlayerPair"]=16]="PlayerPair"}(re||(re={})),function(t){t[t["Unknown"]=0]="Unknown",t[t["StandBy"]=1]="StandBy",t[t["Active"]=2]="Active"}(ae||(ae={}));var oe,ce=function(){function t(e){Object(d["a"])(this,t),K(e)?(this.id=e.id,this.endTime=e.end_time,this.status=1===e.status?ae.StandBy:ae.Active,this.symbol=e.symbol):(this.id=0,this.endTime=0,this.status=ae.Unknown,this.symbol=""),this.status===ae.StandBy?(this.playerCards=e.player_cards.map(function(t){return new se(t)}),this.bankerCards=e.banker_cards.map(function(t){return new se(t)}),this.playerPoints=this.calculatePoint(this.playerCards),this.bankerPoints=this.calculatePoint(this.bankerCards),this.isPlayerPair=this.isPair(this.playerCards),this.isBankerPair=this.isPair(this.bankerCards),this.playerPoints>this.bankerPoints?this.result=re.PlayerWin:this.bankerPoints>this.playerPoints?this.result=re.BankerWin:this.result=re.Tie):(this.playerPoints=0,this.bankerPoints=0,this.playerCards=[],this.bankerCards=[],this.result=re.Unknown,this.isPlayerPair=!1,this.isBankerPair=!1)}return Object(p["a"])(t,null,[{key:"betTypeToString",value:function(t){switch(t){case re.BankerWin:return"Banker Win";case re.PlayerWin:return"Player Win";case re.Tie:return"Tie";case re.BankerPair:return"Banker Pair";case re.PlayerPair:return"Player Pair";default:return""}}}]),Object(p["a"])(t,[{key:"canStartBet",value:function(){var t=Date.now()/1e3;return this.status===ae.StandBy&&t>=this.endTime||this.status===ae.Active&&t<this.endTime}},{key:"isActive",value:function(){return this.status===ae.Active}},{key:"calculatePoint",value:function(t){var e=0,n=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;o.value<10&&(e+=o.value)}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return e%10}},{key:"isPair",value:function(t){return t.length>=2&&t[0].value===t[1].value}}]),t}(),ue=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"games","symbol",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new ce(t)})}}]),e}(Z),le=function(){function t(e){Object(d["a"])(this,t),this.id=e.id,this.gameId=e.game_id,this.player=e.player,this.referer=e.referer,this.bet=Q.fromString(e.bet),this.betType=e.bet_type}return Object(p["a"])(t,[{key:"getBetType",value:function(){return ce.betTypeToString(this.betType)}}]),t}(),he=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"bets","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new le(t)})}}]),e}(Z);(function(t){t[t["Active"]=101]="Active"})(oe||(oe={}));var fe=function(t){function e(t){var n;return Object(d["a"])(this,e),n=Object(m["a"])(this,Object(k["a"])(e).call(this,e.CONTRACT,t)),n.globalVarTable=new pt(t,n.name),n.tokensTable=new yt(t,n.name),n.gameTable=new ue(t,n.name),n.betTable=new he(t,n.name),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"init",value:function(){return this.pushAction("init",{})}},{key:"setGlobal",value:function(t,e){return this.pushAction("setglobal",{key:t,value:e})}},{key:"close",value:function(t){return this.pushAction("hardclose",{game_id:t})}},{key:"setActive",value:function(t){return this.setGlobal(oe.Active,t?1:0)}},{key:"play",value:function(t,e,n){return this.transfer(n,t+","+e+",")}}]),e}(tt);fe.CONTRACT=bt.NETWORK===vt.LOCALHOST?"baccarat":"godappbaccar";var ve=function(){function t(e){Object(d["a"])(this,t),this.eos=e,this.gameTicker=void 0,this.betTicker=void 0,this.gameGlobals=void 0,this.game=new ce(void 0),this.bets=[],this.betType=re.Unknown,this.message="",this.betControl=new rt(this.eos,this),this.baccarat=new fe(this.eos)}return Object(p["a"])(t,[{key:"initialize",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.startTick();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){this.stopTick()}},{key:"loadGame",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.eos.loggedIn()){t.next=2;break}throw new Error("Not logged in");case 2:return t.next=4,this.baccarat.gameTable.getById(J.EOS.toString());case 4:e=t.sent,K(e)&&(this.game=e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"clearMyGameInfo",value:function(){this.game=new ce(void 0)}},{key:"setBetType",value:function(t){this.betType=t}},{key:"startGetGame",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,r=this,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=a.length>0&&void 0!==a[0]?a[0]:2e3,a.length>1&&void 0!==a[1]?a[1]:"",n=a.length>2?a[2]:void 0,this.stopGameTicker(),this.gameTicker=setTimeout(Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.loadGame();case 3:r.stopGameTicker(),K(n)&&n(),r.betControl.finishBet(-1),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),r.startGetGame(500,"",n);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"startTick",value:function(){var t=this;this.gameTicker=setInterval(function(){t.update()},1e3)}},{key:"update",value:function(){var t=Math.ceil(Date.now()/1e3);switch(this.game.status){case ae.Active:this.message=Math.max(0,this.game.endTime-t)+" seconds left";break;case ae.StandBy:var e="Round finished, "+ce.betTypeToString(this.game.result);t>this.game.endTime?this.message=e+". Place bet to start next round.":this.message=e+". "+(this.game.endTime-t)+" seconds until next round";break;default:this.message="Loading"}t%2===0&&(t>this.game.endTime&&this.loadGame(),this.game.isActive()&&this.updateBets())}},{key:"stopTick",value:function(){K(this.gameTicker)&&clearInterval(this.gameTicker),this.gameTicker=void 0}},{key:"stopGameTicker",value:function(){null!==this.gameTicker&&(clearTimeout(this.gameTicker),this.gameTicker=null)}},{key:"updateBets",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.baccarat.betTable.readAll();case 2:this.bets=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"starBetTick",value:function(){var t=this;this.stopBetTick(),this.updateBets(),this.betTicker=setTimeout(function(){t.starBetTick()},2e3)}},{key:"stopBetTick",value:function(){null!==this.betTicker&&(clearTimeout(this.betTicker),this.betTicker=null)}},{key:"betText",value:function(){return"Play"}},{key:"canMakeBet",value:function(){return this.game.canStartBet()&&this.betType!==re.Unknown}},{key:"makeBet",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.betType!==re.Unknown){t.next=2;break}throw new Error("Bet type not selected");case 2:return this.betControl.finishBet(0),t.abrupt("return",this.baccarat.play(this.game.id,this.betType,this.betControl.getBetAsset()));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),be=function t(e,n){Object(d["a"])(this,t),this.betType=e,this.title=n},de=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments)),t.control=new ve(It.instance),t.betButtons=[new be(re.BankerWin,"Banker Win"),new be(re.PlayerWin,"Player Win"),new be(re.Tie,"Tie"),new be(re.BankerPair,"Banker Pair"),new be(re.PlayerPair,"Player Pair")],t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"mounted",value:function(){this.control.initialize()}},{key:"beforeDestroy",value:function(){this.control.destroy()}}]),e}(O["b"]);de=g["a"]([Object(O["a"])({components:{BetView:ct,BaccaratBetView:ne,CardListView:$t}})],de);var pe=de,me=pe,ke=(n("c5c8"),Object(s["a"])(me,Gt,Vt,!1,null,"72ad303c",null));ke.options.__file="baccarat.vue";var ye,ge,_e=ke.exports,we=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("div",{staticClass:"top_wrap"},[r("div",{staticClass:"top_box"},[r("div",{staticClass:"inner_top"},[r("div",{staticClass:"jack_name"},[t._v(t._s("Blackjack"))]),r("CardListView",{attrs:{cards:t.control.game.bankerCards}}),r("div",{staticClass:"jack_payout"},[r("p",[t._v(t._s("PAYOUT"))]),r("p",[t._v("2.00x")])]),r("div",{staticClass:"jack_dot"},[r("p",[t._v(t._s("Banker Points"))]),r("p",[t._v(t._s(t.control.game.bankerPoints))])]),t.control.game.isBankerBusted()?r("div",{staticClass:"bankerBusted"},[r("img",{attrs:{src:n("4605"),alt:""}})]):t._e(),t.control.game.isBankerBlackjack()?r("div",{staticClass:"bankerBlack"},[r("img",{attrs:{src:n("0ad6"),alt:""}})]):t._e()],1),r("div",{staticClass:"inner_center",class:{win:t.control.game.isWin(),lose:t.control.game.isLose(),draw:t.control.game.isPush()}},[r("div",{staticClass:"jack_name"},[t._v(t._s("Player"))]),r("CardListView",{attrs:{cards:t.control.game.playerCards}}),r("div",{staticClass:"operate_mainWrap hidden-xs"},[t.control.isWaitingForAction()?t.control.isStanding()?r("p",{staticClass:"playingTip"},[t._v(t._s("Waiting for Result"))]):t.control.isHitting()?r("p",{staticClass:"playingTip"},[t._v(t._s("Waiting for Card"))]):t.control.isShuffling()?r("p",{staticClass:"playingTip"},[t._v(t._s("Shuffling"))]):t._e():r("div",[t.control.hasStartGame()?r("div",{staticClass:"operate_main"},[t.control.game.isActive()?r("button",{on:{click:function(e){t.control.hit()}}},[t._v(t._s("Hit"))]):t._e(),t.control.game.isActive()?r("button",{on:{click:function(e){t.control.stand()}}},[t._v(t._s("Stand"))]):t._e(),t.control.game.isActive()?r("button",{on:{click:function(e){t.control.surrender()}}},[t._v(t._s("Surrender"))]):t._e()]):t._e()])]),r("div",{staticClass:"jack_payout phone_left"},[r("p",[t._v(t._s("Amount"))]),r("p",[t._v(t._s(t.control.game.bet.toString()))])]),r("div",{staticClass:"jack_dot phone_right"},[r("p",[t._v(t._s("Points"))]),r("p",[t._v(t._s(t.control.game.playerPoints))])]),r("div",{staticClass:"youWin"},[t._v("\n                    "+t._s("You Win")+"\n                ")]),r("div",{staticClass:"youLose"},[t._v("\n                    "+t._s("You Lose")+"\n                ")]),r("div",{staticClass:"youNotLose"},[t._v("\n                    "+t._s("Draw")+"\n                ")]),t.control.game.isPlayerBusted()?r("div",{staticClass:"playerBusted"},[r("img",{attrs:{src:n("4605"),alt:""}})]):t._e(),t.control.game.isPlayerBlackjack()?r("div",{staticClass:"playerBlack"},[r("img",{attrs:{src:n("0ad6"),alt:""}})]):t._e()],1),r("BetView",{attrs:{control:t.control.betControl}})],1)]),r("HistoryTableView",{attrs:{data:t.control.history,loading:t.control.historyLoading}})],1)},Oe=[];(function(t){t[t["Unknown"]=0]="Unknown",t[t["Active"]=1]="Active",t[t["Stood"]=2]="Stood",t[t["Close"]=3]="Close"})(ye||(ye={})),function(t){t[t["Unknown"]=0]="Unknown",t[t["Surrender"]=1]="Surrender",t[t["Win"]=2]="Win",t[t["Lose"]=3]="Lose",t[t["Push"]=4]="Push"}(ge||(ge={}));var je=function(){function t(e){Object(d["a"])(this,t),K(e)?(this.id=e.id,this.closeTime=parseInt(e.close_time,10),this.playerCards=e.player_cards.map(function(t){return new se(t)}),this.bankerCards=e.banker_cards.map(function(t){return new se(t)}),this.player=e.player,this.bet=Q.fromString(e.bet),this.insured=e.insured,this.result=e.result,this.status=e.status,this.bankerPoints=t.calculatePoints(this.bankerCards),this.playerPoints=t.calculatePoints(this.playerCards)):(this.id=0,this.closeTime=0,this.player="",this.playerCards=[],this.bankerCards=[],this.bet=new Q(0,J.EOS),this.insured=!1,this.result=ge.Unknown,this.status=ye.Unknown,this.bankerPoints=0,this.playerPoints=0)}return Object(p["a"])(t,[{key:"isBankerBusted",value:function(){return this.bankerPoints>t.MAX_POINTS}},{key:"isPlayerBusted",value:function(){return this.playerPoints>t.MAX_POINTS}},{key:"isBankerBlackjack",value:function(){return this.bankerPoints===t.MAX_POINTS&&2===this.bankerCards.length}},{key:"isPlayerBlackjack",value:function(){return this.playerPoints===t.MAX_POINTS&&2===this.playerCards.length}},{key:"isWin",value:function(){return this.result===ge.Win}},{key:"isLose",value:function(){return this.result===ge.Lose}},{key:"isPush",value:function(){return this.result===ge.Push}}],[{key:"calculatePoints",value:function(t){var e=0,n=0,r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value,u=Math.min(c.value,10);1===c.value&&n++,e+=u}}catch(h){a=!0,i=h}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}for(var l=0;l<n;l++){if(e+10>21)return e;e+=10}return e}}]),t}();je.MAX_POINTS=21;var Te=function(t){function e(t){var n;return Object(d["a"])(this,e),n=Object(m["a"])(this,Object(k["a"])(e).call(this,t)),K(t)?(n.startTime=parseInt(t.start_time,10),n.status=t.status):(n.startTime=0,n.status=ye.Unknown),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"isActive",value:function(){return this.status===ye.Active}},{key:"canInsure",value:function(){return this.isActive()&&1===this.bankerCards.length&&this.bankerCards[0].isAce()}},{key:"canDouble",value:function(){return this.isActive()&&2===this.playerCards.length}}]),e}(je),Ce=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"games","player",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new Te(t)}).sort(function(t,e){return e.closeTime-t.closeTime})}}]),e}(Z),Se=n("a925"),xe={bj_result_player_busted:"Player Busted",bj_result_banker_busted:"Banker Busted",bj_result_player_win:"Player Wins",bj_result_banker_win:"Banker Wins",bj_result_push:"Push",bj_result_player_blackjack:"Player Blackjack",bj_result_surrender:"Surrender"};function Be(){var t=sessionStorage.getItem("language");return null===t?navigator.language:t}r["default"].use(Se["a"]);var Re,Pe,Ae=new Se["a"]({locale:Be(),messages:{"en-US":xe}}),Ne=Ae,Ie=function(t){function e(t){var n;return Object(d["a"])(this,e),n=Object(m["a"])(this,Object(k["a"])(e).call(this,t)),n.payout=Q.fromString(t.payout),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"getResultString",value:function(){switch(this.result){case ge.Surrender:return Ne.t("bj_result_surrender");case ge.Lose:return this.playerPoints>je.MAX_POINTS?Ne.t("bj_result_player_busted"):Ne.t("bj_result_banker_win");case ge.Push:return Ne.t("bj_result_push");case ge.Win:return this.isPlayerBlackjack()?Ne.t("bj_result_player_blackjack"):this.bankerPoints>je.MAX_POINTS?Ne.t("bj_result_banker_busted"):Ne.t("bj_result_plaer_win");default:throw new Error("Invalid Game Result")}}},{key:"toString",value:function(){return this.getResultString().toString()+" (".concat(this.playerPoints,":").concat(this.bankerPoints,")")}},{key:"hasEOSPayout",value:function(){return this.payout.quantity>0}}]),e}(je),Ee=function(t){function e(t,n){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).call(this,t,"results","id",n))}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"convert",value:function(t){return t.map(function(t){return new Ie(t)}).sort(function(t,e){return e.closeTime-t.closeTime})}}]),e}(Z);(function(t){t[t["New"]=0]="New",t[t["Hit"]=1]="Hit",t[t["Double"]=2]="Double",t[t["Insure"]=3]="Insure",t[t["Stand"]=4]="Stand",t[t["Surrender"]=5]="Surrender"})(Re||(Re={})),function(t){t[t["Active"]=101]="Active"}(Pe||(Pe={}));var Me,Le=function(t){function e(t){var n;return Object(d["a"])(this,e),n=Object(m["a"])(this,Object(k["a"])(e).call(this,e.CONTRACT,t,e.ID)),n.historyTable=new Ee(t.eos,n.name),n.gameTable=new Ce(t.eos,n.name),n}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"init",value:function(){return this.pushAction("init",{})}},{key:"setGlobal",value:function(t,e){return this.pushAction("setglobal",{key:t,value:e})}},{key:"setActive",value:function(t){return this.setGlobal(Pe.Active,t?1:0)}},{key:"play",value:function(t){return this.house.transfer(t,this.id+",new,")}},{key:"hit",value:function(){return this.playerAction(Re.Hit)}},{key:"stand",value:function(){return this.playerAction(Re.Stand)}},{key:"surrender",value:function(){return this.playerAction(Re.Surrender)}},{key:"hardClose",value:function(t,e){return this.pushAction("hardClose",{game_id:t,reason:e})}},{key:"close",value:function(t){return this.pushAction("close",{game_id:t})}},{key:"playerAction",value:function(t){return this.pushAction("playeraction",{player:this.accountName(),action:t})}}]),e}(mt);Le.CONTRACT=bt.NETWORK===vt.LOCALHOST?"blackjack":"godappblackj",Le.ID=2,function(t){t[t["Initializing"]=0]="Initializing",t[t["NotLoading"]=1]="NotLoading",t[t["Shuffling"]=2]="Shuffling",t[t["Standing"]=3]="Standing",t[t["Hitting"]=4]="Hitting"}(Me||(Me={}));var We=function(){function t(e){Object(d["a"])(this,t),this.eos=e,this.normalTicker=void 0,this.myGameTicker=void 0,this.gameGlobals=void 0,this.history=[],this.historyLoading=!0,this.game=new Te(void 0),this.loadingStatus=Me.Initializing,this.betControl=new rt(this.eos,this),this.blackjack=new Le(new wt(this.eos))}return Object(p["a"])(t,[{key:"initialize",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.startAllTick(),this.startGetMyGame(0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"hasStartGame",value:function(){return this.game.id>0&&this.game.status===ye.Active}},{key:"destroy",value:function(){this.stopAllTick()}},{key:"loadMyGame",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.eos.loggedIn()){t.next=3;break}throw this.loadingStatus=Me.NotLoading,new Error("Not logged in");case 3:return t.next=5,this.blackjack.gameTable.getById(this.eos.account.name);case 5:if(e=t.sent,!K(e)){t.next=10;break}if((e.status!==this.game.status||e.playerCards.length!==this.game.playerCards.length)&&e.status!==ye.Stood&&0!==e.playerCards.length){t.next=9;break}throw new Error("Waiting for more game update");case 9:this.game=e;case 10:this.loadingStatus=Me.NotLoading;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadHistory",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.blackjack.historyTable.readAll();case 2:this.history=t.sent,this.historyLoading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"clearMyGameInfo",value:function(){this.game=new Te(void 0)}},{key:"startGetMyGame",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a=this,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:2e3,n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,Y(n)){t.next=6;break}return t.next=6,this.eos.waitUntilImmutable(n);case 6:this.stopGetMyGame(),this.myGameTicker=setTimeout(Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.loadMyGame();case 3:a.stopGetMyGame(),K(r)&&r(),a.betControl.finishBet(-1),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),a.startGetMyGame(500,"",r);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),e);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"stopGetMyGame",value:function(){null!==this.myGameTicker&&(clearTimeout(this.myGameTicker),this.myGameTicker=null)}},{key:"startAllTick",value:function(){var t=this;this.stopAllTick(),this.loadHistory(),this.normalTicker=setTimeout(function(){t.startAllTick()},3e3)}},{key:"stopAllTick",value:function(){null!==this.normalTicker&&(clearTimeout(this.normalTicker),this.normalTicker=null)}},{key:"makeAction",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e,n){var r,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingStatus=n,t.next=4,e();case 4:return r=t.sent,this.startGetMyGame(0,r.id,function(){a.loadingStatus=Me.NotLoading}),t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](0),this.loadingStatus=Me.NotLoading;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"hit",value:function(){var t=this;return this.makeAction(function(){return t.blackjack.hit()},Me.Hitting)}},{key:"stand",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeAction(function(){return e.blackjack.stand()},Me.Standing));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"surrender",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeAction(function(){return e.blackjack.surrender()},Me.Standing));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"isWaitingForAction",value:function(){return this.loadingStatus!==Me.NotLoading}},{key:"isStanding",value:function(){return this.loadingStatus===Me.Standing}},{key:"isHitting",value:function(){return this.loadingStatus===Me.Hitting}},{key:"isShuffling",value:function(){return this.loadingStatus===Me.Shuffling}},{key:"betText",value:function(){return"Play"}},{key:"canMakeBet",value:function(){return this.game.status!==ye.Active}},{key:"makeBet",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.blackjack.play(new Q(e,J.EOS));case 2:n=t.sent,this.clearMyGameInfo(),this.startGetMyGame(0,n.id,function(){r.loadingStatus=Me.NotLoading});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btm_table"},[n("table",{attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v(t._s("Time"))]),n("th",[t._v(t._s("Player"))]),n("th",[t._v(t._s("Bet"))]),n("th",[t._v(t._s("Insurance"))]),n("th",[t._v("PAYOUT")]),n("th",[t._v(t._s("Result"))]),n("th",[t._v(t._s("profit"))])])]),n("tbody",t._l(t.data,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.closeTime.toString()))]),n("td",[t._v(t._s(e.player))]),n("td",[t._v(t._s(e.bet.toString()))]),n("td",[t._v(t._s(e.insured?"Yes":"-"))]),n("td",[t._v(t._s(2)+"x")]),n("td",{class:{award:e.isPlayerBlackjack()}},[t._v(t._s(e.getResultString()))]),n("td",{staticClass:"profit"},[e.hasEOSPayout()?n("div",[t._v("\n                    +"+t._s(e.payout.toString())+"\n                ")]):t._e()])])}))])])},Ge=[],Ve=function(t){function e(){return Object(d["a"])(this,e),Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(O["b"]);Ve=g["a"]([Object(O["a"])({props:{data:{type:Array,required:!0},loading:{type:Boolean,required:!0}},components:{Progress:P,Loading:M}})],Ve);var De=Ve,He=De,Fe=(n("0cb5"),Object(s["a"])(He,Ue,Ge,!1,null,"63bfdda2",null));Fe.options.__file="blackjackHistoryTableView.vue";var qe=Fe.exports,Ke=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments)),t.control=new We(It.instance),t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"mounted",value:function(){this.control.initialize()}},{key:"beforeDestroy",value:function(){this.control.destroy()}}]),e}(O["b"]);Ke=g["a"]([Object(O["a"])({components:{BetView:ct,HistoryTableView:qe,CardListView:$t}})],Ke);var ze=Ke,$e=ze,Ye=(n("e1c1"),Object(s["a"])($e,we,Oe,!1,null,"971bb1d0",null));Ye.options.__file="blackjack.vue";var Xe=Ye.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("Click the buttons to test corresponding functionality!")]),n("button",{on:{click:t.connect}},[t._v("Connect")]),n("button",{on:{click:t.getTokenTable}},[t._v("Tokens")]),n("button",{on:{click:t.getPlayerTable}},[t._v("Players")]),n("button",{on:{click:t.getGlobalTable}},[t._v("Global")]),n("button",{on:{click:t.init}},[t._v("Init")]),n("button",{on:{click:t.transfer}},[t._v("Deposit")]),n("div",[t._v(t._s(t.message))])])},Qe=[],Ze=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(k["a"])(e).apply(this,arguments)),t.message="",t.eos=new It(new Nt(bt.NETWORK)),t.house=new wt(It.instance),t.dice=new kt(t.house),t.blackjack=new Le(t.house),t}return Object(y["a"])(e,t),Object(p["a"])(e,[{key:"connect",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.eos.loggedIn()){t.next=5;break}return t.next=3,this.eos.connector.logout();case 3:t.next=8;break;case 5:return t.next=7,this.eos.connector.login();case 7:this.message="Hello "+this.eos.connector.getAccount();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTokenTable",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.tokens.readAll();case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPlayerTable",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.players.readAll();case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getGlobalTable",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.dice.globals.readAll();case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"init",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.house.addGame(kt.CONTRACT,kt.ID);case 2:return e=t.sent,t.next=5,this.house.addGame(Le.CONTRACT,Le.ID);case 5:this.message=JSON.stringify(e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"transfer",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.eos.transfer(wt.CONTRACT,new Q(1e3,J.EOS),"deposit,"+kt.CONTRACT);case 2:e=t.sent,this.message=JSON.stringify(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(O["b"]);Ze=g["a"]([O["a"]],Ze);var tn=Ze,en=tn,nn=(n("52a9"),Object(s["a"])(en,Je,Qe,!1,null,"312cb28a",null));nn.options.__file="functionTests.vue";var rn=nn.exports;r["default"].use(f["a"]);var an=new f["a"]({linkActiveClass:"active",linkExactActiveClass:"active",routes:[{path:"/",name:"Dice",component:Ut},{path:"/blackjack",name:"Blackjack",component:Xe},{path:"/baccarat",name:"Baccarat",component:_e},{path:"/test",name:"Test",component:rn}]}),sn=n("2f62");r["default"].use(sn["a"]);var on=new sn["a"].Store({state:{},mutations:{},actions:{}}),cn=n("9483");Object(cn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["default"].config.productionTip=!1,new r["default"]({router:an,store:on,i18n:Ne,render:function(t){return t(h)}}).$mount("#app")},d1c4:function(t,e,n){},dc63:function(t,e,n){},dc82:function(t,e,n){},e1c1:function(t,e,n){"use strict";var r=n("498b"),a=n.n(r);a.a},e226:function(t,e,n){"use strict";var r=n("dc82"),a=n.n(r);a.a},e58c:function(t,e,n){"use strict";var r=n("dc63"),a=n.n(r);a.a},f058:function(t,e,n){},f18b:function(t,e,n){},f8b1:function(t,e,n){"use strict";var r=n("f058"),a=n.n(r);a.a}});
//# sourceMappingURL=app.ea116b6c.js.map